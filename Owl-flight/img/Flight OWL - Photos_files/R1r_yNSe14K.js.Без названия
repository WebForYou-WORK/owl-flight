if (self.CavalryLogger) { CavalryLogger.start_js(["BCNUa"]); }

__d("ShowCreationFlowStep",[],(function a(b,c,d,e,f,g){f.exports={RENDER_LANDING_PAGE:"render_landing_page",NAME_CLICK:"name_click",NAME_INPUT:"name_input",DESCRIPTION_CLICK:"description_click",DESCRIPTION_INPUT:"description_input",SHOW_CREATE_CLICK:"show_create_click",SHOW_CREATE_SUCCESS:"show_create_success",SHOW_CREATE_ERROR:"show_create_error",PROFILE_PIC_ITEM_CLICK:"profile_pic_item_click",PROFILE_PIC_ITEM_FILE_SELECTED:"profile_pic_item_file_selected",SHOW_TRAILER_ITEM_CLICK:"show_trailer_item_click",SHOW_TRAILER_ITEM_FILE_SELECTED:"show_trailer_item_file_selected",SHOW_TRAILER_UPLOADED:"show_trailer_uploaded",SHOW_TRAILER_UPLOAD_CANCELLED:"show_trailer_upload_cancelled",SHOW_TRAILER_ENCODE_SUCCESS:"show_trailer_encode_success",SHOW_TRAILER_UPLOAD_NEW_CLICKED:"show_trailer_upload_new_clicked",SHOW_TRAILER_UPLOAD_NEW_FILE_SELECTED:"show_trailer_upload_new_file_selected",SHOWMARK_ITEM_CLICK:"showmark_item_click",SHOWMARK_FILE_SELECTED:"showmark_file_selected",SHOWMARK_FILE_CHANGED:"showmark_file_changed",SHOWMARK_DIALOG_CLOSED:"showmark_dialog_closed",SHOWMARK_UPLOAD_CLICKED:"showmark_upload_clicked",SHOWMARK_UPLOAD_FAILED:"showmark_upload_failed",SHOWMARK_UPLOAD_SUCCESS:"showmark_upload_success"};}),null);
__d("VideoAutoplayGatingResult",[],(function a(b,c,d,e,f,g){f.exports={UGC_DEFAULT_ALLOWED:"ugc_default_allowed",PAGE_SPONSORED_ALLOWED:"page_sponsored_allowed",PAGE_SPONSORED_DEBUG_FORCE_ALLOWED:"page_sponsored_debug_force_allowed",FEED_RANKING_UGC_ALLOWED:"feed_ranking_ugc_allowed",ALL_PAGE_ORGANIC_ALLOWED:"all_page_organic_allowed",FEED_RANKING_ORGANIC_ALLOWED:"feed_ranking_organic_allowed",RELATED_WHITELISTED_ORGANIC_ALLOWED:"related_whitelisted_organic_allowed",HQ_PAGE_ORGANIC_ALLOWED:"hq_page_organic_allowed",PREMIUM_DEFAULT_ALLOWED:"premium_default_allowed",DEMO_SPONSORED_ALLOWED:"demo_sponsored_allowed",PLAYABLE_AD_ALLOWED:"playable_ad_allowed",EVENT_COVER_ALLOWED:"event_cover_allowed",UNKNOWN:"unknown",FEED_RANKING_UNKNOWN:"feed_ranking_unknown",LONG_TERM_HOLDOUT:"long_term_holdout",DEFAULT_OFF:"default_off",GATEKEEPER:"gatekeeper",UGC_HOLDOUT:"ugc_holdout",IS_SPONSORED:"is_sponsored",IS_SPONSORED_UGC:"is_sponsored_ugc",IS_BOOSTED:"is_boosted",NO_OWNER:"no_owner",PAGE_NOT_WHITELISTED:"page_not_whitelisted",PAGE_NOT_BRAND_SAFE:"page_not_brand_safe",NO_USER_PAGE_RELATIONSHIP:"no_user_page_relationship",USER_SETTINGS:"user_settings",VIDEO_BLACKLISTED:"video_blacklisted",UGC_VIDEO_DISABLED_BY_QE:"ugc_video_disabled_by_qe",PAGE_WHITELIST_DISABLED_BY_QE:"page_whitelist_disabled_by_qe",RANKING_PREDICTION_DISABLED:"ranking_prediction_disabled",RANKING_DATA_MISSING:"ranking_data_missing",HIGH_XOUT_RATIO:"high_xout_ratio",VIDEO_UNORIGINALITY:"video_unoriginality",DISABLED_BY_GAP_RULE:"disabled_by_gap_rule",AUTOPLAY_ADS_COUNT_CAP_REACHED:"autoplay_ads_count_cap_reached",AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"autoplay_ads_count_cap_reached_backend",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED:"moo_premium_autoplay_ads_count_cap_reached",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"moo_premium_autoplay_ads_count_cap_reached_backend",AUTOPLAY_DISABLED_FOR_CLICK_BIDDING_ADS:"autoplay_disabled_for_click_bidding_ads",AUTOPLAY_DISABLED_FOR_ALL_ADS:"autoplay_disabled_for_all_ads",NOT_WHITELISTED_ACCOUNT:"not_whitelisted_account",NOT_MANAGED_ACCOUNT:"not_managed_account",UNSUPPORTED_CURRENCY:"unsupported_currency",DISABLED_BY_DYNAMIC_CAP:"disabled_by_dynamic_cap",DISABLED_BY_CREATIVE_TYPE:"disabled_by_creative_type",MOBILE_DATA_CONSUMPTION_LIMIT:"mobile_data_consumption_limit",PAGE_VIDEO_NOT_WIFI:"page_video_not_wifi",DISABLED_BY_AD_QUALITY_TABLE:"disabled_by_ad_quality_table",POOR_CONNECTION_QUALITY:"poor_connection_quality",AUTOPLAY_ADS_DISABLED_BY_BLACKLISTED_PAGE:"autoplay_ads_disabled_by_blacklisted_page",BACK_TO_BACK_VIDEOS:"back_to_back_videos",VIDEO_BROADCAST_AUTOPLAY_DISABLED:"video_broadcast_autoplay_disabled",VIDEO_TOO_LONG:"video_too_long",LOW_VIDEO_VIEW_PREDICTION:"low_video_view_prediction",SPHERICAL_CELL:"spherical_cell",STORY_OF_FRIENDSHIP:"story_of_friendship",GOODWILL_VIDEO_PROMOTION_BLOCKBUSTER:"goodwill_video_promotion_blockbuster",GOODWILL_VIDEO_SHARE_BLOCKBUSTER:"goodwill_video_share_blockbuster",AUTOPLAY_DISABLED_IN_BOUNCER:"autoplay_disabled_in_bouncer",DISABLED_FOR_PRE_ROLL:"disabled_for_pre_roll",USER_GATING_PASSED:"user_gating_passed",USER_PAGE_GATING_PASSED:"user_page_gating_passed",TEST_WHITELISTED:"test_whitelisted",TEST_BLACKLISTED:"test_blacklisted",TEST_NON_AD_FOR_ADS_ONLY_AUTOPLAY:"test_non_ad_for_ads_only_autoplay",WHITELISTED_XOUT_VIDEO:"whitelisted_xout_video",DISABLED_BY_POSITION_BUDGET:"disabled_by_position_budget",DISABLED_FOR_DATA_SENSITIVITY_TEST:"disabled_by_data_sensitivity_test"};}),null);
__d("VideoChannelLoggerEventTargets",[],(function a(b,c,d,e,f,g){f.exports={CLOSE:"close",WASH:"wash",PREVIOUS_ARROW:"previous_arrow",PREVIOUS_ARROW_KEY:"previous_arrow_key",NEXT_ARROW:"next_arrow",NEXT_ARROW_KEY:"next_arrow_key",UP_NEXT:"up_next",THUMBNAIL:"thumbnail",SHOW_SIDE_PANE:"show_side_pane",HIDE_SIDE_PANE:"hide_side_pane",SHARE:"share",WATCH_AND_SCROLL:"watch_and_scroll",WWW_CHANNEL_PIVOT:"www_channel_pivot",BACK:"back",WNS:"wns",STORY_HEADER:"story_header",SECONDARY_ACTION:"secondary_action",FULLSCREEN:"fullscreen",STORY_DESCRIPTION:"story_description",ACTION_LINK:"action_link",UFI_COUNTS:"ufi_counts",LIKE:"like",COMMENT:"comment",STORY:"story"};}),null);
__d("VideoHomeEvents",[],(function a(b,c,d,e,f,g){f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",SUBSCRIBE_SOME:"subscribe_some",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",MARK_VISIT_WITH_BADGE:"mark_visit_with_badge",MARK_VISIT_WATCHLIST:"mark_visit_watchlist",SECTION_PAGINATION_ERROR:"section_pagination_error",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",UNIT_PREFETCH:"unit_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SWIPE:"swipe",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",MARK_DATA_DIRTY:"mark_data_dirty",TAB:"tab",TOPIC_SELECTED:"topic_selected",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss",VIDEO_JEWEL_IMPRESSION:"video_jewel_impression",SCROLL_PERF:"scroll_perf",SCROLL_PERF_HSCROLL:"scroll_perf_hscroll",APPENDED_HSCROLL_STORIES:"appended_hscroll_stories",LOAD_UNIT_ATTEMPT:"load_unit_attempt",UNIT_STORY_EXCEPTION:"unit_story_exception"};}),null);
__d("VideoHomeEventTargets",[],(function a(b,c,d,e,f,g){f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",SPINNER:"spinner",NUX:"nux",NONE:"none"};}),null);
__d("VideoHomeExitPointTypes",[],(function a(b,c,d,e,f,g){f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"};}),null);
__d("VideoHomeLoggerFields",[],(function a(b,c,d,e,f,g){f.exports={BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CHANNEL_ID:"channel_id",REACTION_CHANNEL_ID:"reaction_channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",CREATOR_STATUS:"creator_status",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",WITH_FETCH_CURSOR:"with_fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",IS_DIALTONE:"is_dialtone",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",SECTION_VIDEO_CHANNEL_TYPE:"section_video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",SCROLL_PERF_DURATION:"scroll_perf_duration",SCROLL_PERF_SMALL_DROP:"scroll_perf_small_drop",SCROLL_PERF_LARGE_DROP:"scroll_perf_large_drop",UNSEEN_NOTIFICATIONS_COUNT:"unseen_notifications_count",PREFETCH_ENABLED:"prefetch_enabled",TAB_SELECTED:"tab_selected",TAB_SELECTION_TYPE:"tab_selection_type",TOPIC_SELECTED:"topic_selected",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components",ELIGIBLE_FOR_HSCROLL_COUNT:"eligible_for_hscroll_count",RENDERED_IN_HSCROLL_COUNT:"rendered_in_hscroll_count",ASYNCHRONOUSLY_LOADED_HSCROLL_CONTENT:"asynchronously_loaded_hscroll_content",FIRST_N:"first_n",EXCEPTION:"exception",EXCEPTION_TRACE:"exception_trace",REQUESTED_UNIT_IDS:"requested_unit_ids",GENERATED_UNIT_IDS:"generated_unit_ids"};}),null);
__d("VideoHomeRequestStatus",[],(function a(b,c,d,e,f,g){f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};}),null);
__d("VideoQualityClass",[],(function a(b,c,d,e,f,g){f.exports={UHD:"uhd",HD:"hd",SD:"sd"};}),null);
__d('VideoUploadLeaveConfirmationDialog.react',['fbt','PublishingToolsWebdriverTestDataIDs','React','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=700,m=360;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){'use strict';var o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;if(this.props.isProfileVideo){o=m;p=h._("Cancel Profile Video?");q=h._("Your profile video won't be saved if you leave this page.");r=h._("Stay on This Page");s=h._("Leave This Page");}else{o=l;p=h._("Discard Post?");q=h._("If you leave now, this post will be discarded. To save your post, choose one of the options under the Publish button.");r=h._("Return to Post");s=h._("Discard");}return c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:o,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},p),c('React').createElement(c('XUIDialogBody.react'),null,q),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:r,onClick:this.props.onContinue}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',action:'cancel',label:s,onClick:this.props.onCancel,'data-testid':c('PublishingToolsWebdriverTestDataIDs').VIDEO_UPLOAD_DIALOG_CLOSE_CONFIRM_BUTTON})));};function n(){'use strict';i.apply(this,arguments);}n.propTypes={onContinue:k.func.isRequired,onCancel:k.func.isRequired,isProfileVideo:k.bool};f.exports=n;}),null);
__d('ComposerXVideoUploadDialog.react',['csx','cx','ix','fbt','Arbiter','DOM','DOMContainer.react','Image.react','ProfileVideoWWWFrontendActionTypedLogger','PublishingToolsWebdriverTestDataIDs','React','ReactDOM','SubscriptionsHandler','VideoUploadProcessingDialog.react','XUICloseButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','VideoUploadLeaveConfirmationDialog.react','OptimisticVideoPostUtils','containsNode','setImmediate','getViewportDimensions'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes,o=770,p=489,q=550;l=babelHelpers.inherits(r,c('React').Component);m=l&&l.prototype;function r(){var s,t;'use strict';for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.state={stage:'editing',videoID:null,showLeaveConfirmationDialog:false,showThrobber:false,shouldShowNewEditDialog:false,pageID:null,isSecretVideo:false,shouldShowVideoLibrary:false},this.$ComposerXVideoUploadDialog1=null,this.$ComposerXVideoUploadDialog3=null,this.onCancelPostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props&&this.props.onCancel)this.props.onCancel();if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent('leave_this_page_click').setSessionID(this.props.composerID).log();}.bind(this),this.onContinuePostingClick=function(){this.setState({showLeaveConfirmationDialog:false});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent('stay_on_this_page_click').setSessionID(this.props.composerID).log();}.bind(this),this.onComposerClick=function(x){if(this.props.isProfileVideo&&x.nativeEvent&&x.nativeEvent.target)if(c('containsNode')(this.$ComposerXVideoUploadDialog3,x.nativeEvent.target))this.onComposerDialogClose();}.bind(this),this.onComposerDialogClose=function(){this.setState({showLeaveConfirmationDialog:true});if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2.setEvent('cancel_button_click').setSessionID(this.props.composerID).log();}.bind(this),this.onDone=function(){if(this.props&&this.props.onDone){var x=this.props.onDone;c('setImmediate')(function(){return x({videoID:this.state.videoID});}.bind(this));}}.bind(this),this.renderThrobber=function(){return c('React').createElement(c('Image.react'),{className:"_2z4p"+(this.state.showThrobber?' '+"_2z4q":''),src:j("85428")});}.bind(this),t;}r.prototype.componentDidMount=function(){'use strict';if(this.props.isProfileVideo)this.$ComposerXVideoUploadDialog2=new (c('ProfileVideoWWWFrontendActionTypedLogger'))();var s=new (c('SubscriptionsHandler'))();this.$ComposerXVideoUploadDialog1=s;s.addSubscriptions(c('Arbiter').subscribe('videoUpload/started',function(t){this.setState({stage:'editing',videoID:null});}.bind(this)),c('Arbiter').subscribe('videoUpload/complete',function(t,u){if(this.props.onComplete)this.props.onComplete(u.videoID);var v=this.props.showProcessingDialog&&(!this.props.canShowOptimisticPost||!c('OptimisticVideoPostUtils').shouldShowOptimisticPost(u));this.setState({stage:'finished',videoID:u.videoID,shouldShowVideoUploadProcessingDialog:v,shouldShowNewEditDialog:!!u.shouldShowNewEditDialog,pageID:u.pageID,isSecretVideo:u.isSecret,shouldShowVideoLibrary:!!u.shouldShowVideoLibrary});}.bind(this)),c('Arbiter').subscribe('videoUpload/showThrobber',function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:true});}.bind(this)),c('Arbiter').subscribe('videoUpload/hideThrobber',function(t,u){if(this.props.composerID===u.composerID)this.setState({showThrobber:false});}.bind(this)));if(this.props.showDialogCancelButton)this.$ComposerXVideoUploadDialog3=c('DOM').find(c('ReactDOM').findDOMNode(this.props.composer),"._306");};r.prototype.componentWillUnmount=function(){'use strict';if(this.$ComposerXVideoUploadDialog1)this.$ComposerXVideoUploadDialog1.release();};r.prototype.renderLayers=function(){'use strict';if(this.state.stage=='finished'){if(!this.state.shouldShowVideoUploadProcessingDialog){this.onDone();return null;}return c('React').createElement(c('VideoUploadProcessingDialog.react'),{videoID:this.state.videoID,onClose:this.onDone,show:true,shouldShowNewEditDialog:this.state.shouldShowNewEditDialog,pageID:this.state.pageID,isReferenceVideo:this.props.isReferenceVideo,isSecretVideo:this.state.isSecretVideo,shouldShowVideoLibrary:this.state.shouldShowVideoLibrary,key:'dialog'});}else{var s;if(this.props.isReferenceVideo){s=k._("Add Reference File");}else if(this.props.isProfileVideo){s=k._("Create Profile Video");}else if(this.props.isPageTrailer){s=k._("Add Trailer");}else s=k._("Upload Video");var t=null;if(!this.props.showDialogCancelButton)t=c('React').createElement(c('XUICloseButton.react'),{className:"_51-t",onClick:this.onComposerDialogClose,'data-testid':c('PublishingToolsWebdriverTestDataIDs').VIDEO_UPLOAD_DIALOG_CLOSE_BUTTON});var u=c('getViewportDimensions')().height>q?100:30;return c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:this.props.compactMode?p:o,fixedTopPosition:u,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},s,c('React').createElement('div',{className:"_51-u"},this.renderThrobber(),t)),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},c('React').createElement(c('DOMContainer.react'),{onClick:this.onComposerClick},this.props.composer)));}};r.prototype.render=function(){'use strict';var s;if(this.state.showLeaveConfirmationDialog)s=c('React').createElement(c('VideoUploadLeaveConfirmationDialog.react'),{isProfileVideo:this.props.isProfileVideo,onContinue:this.onContinuePostingClick,onCancel:this.onCancelPostingClick});return c('React').createElement('div',null,s,this.renderLayers());};r.propTypes={composer:n.object.isRequired,composerID:n.string.isRequired,canShowOptimisticPost:n.bool,showProcessingDialog:n.bool,onCancel:n.func,onComplete:n.func,onDone:n.func,compactMode:n.bool,isReferenceVideo:n.bool,isProfileVideo:n.bool,isPageTrailer:n.bool};r.defaultProps={canShowOptimisticPost:false,showProcessingDialog:true,compactMode:false,isReferenceVideo:false,isProfileVideo:false};f.exports=r;}),null);
__d('PageContentTabActions',['errorCode','fbt','Arbiter','GraphAPI','PageContentTabAccessToken','PageContentTabCommonConfig','PageContentTabConstants','PageContentTabConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','PageContentTabLogger','PageContentTabLoggingEvents'],(function a(b,c,d,e,f,g,h,i){var j=c('PageContentTabConstants').ACTIONS,k=c('PageContentTabConstants').TABS,l=c('PageContentTabConfig').graph_api_version||'2.2',m={backdatePost:function n(o,p,q,r,s,t){c('PageContentTabLoadingDialog').show();var u=new Date(r,s-1,t);c('GraphAPI')(l).object('post',q.story_token).post({access_token:c('PageContentTabAccessToken').getAccessToken(),is_published:true,backdated_time:u.getTime()/1000,backdated_time_granularity:'day'}).done(function(v){c('PageContentTabDispatcher').handlePostRemoved(o,q.id);c('PageContentTabLoadingDialog').hide();},function(v){var w=v.error_user_msg?v.error_user_msg:i._("Could not backdate post.");c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(v),action:j.BACKDATE,post_id:q.id});c('PageContentTabCommonConfig').showErrorDialog(i._("Error"),w);});},deletePosts:function n(o,p,q){c('PageContentTabLoadingDialog').show();var r=0;q.forEach(function(s){c('GraphAPI')(l).object('post',s.story_token).remove({access_token:c('PageContentTabAccessToken').getAccessToken()}).done(function(t){c('PageContentTabDispatcher').handlePostRemoved(o,s.id);r++;if(r===q.length)c('PageContentTabLoadingDialog').hide();},function(t){c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(t),action:j.DELETE,post_id:s.id});});},this);},deletePostsbyID:function n(o,p,q){c('PageContentTabLoadingDialog').show();var r=0;q.forEach(function(s){c('GraphAPI')(l).object('post',s.id).remove({access_token:c('PageContentTabAccessToken').getAccessToken()}).done(function(t){c('PageContentTabDispatcher').handlePostRemoved(o,s.id);r++;if(r===q.length)c('PageContentTabLoadingDialog').hide();},function(t){c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(t),action:j.DELETE,post_id:s.id});});},this);},publishPosts:function n(o,p,q){c('PageContentTabLoadingDialog').show();var r=0;q.forEach(function(s){c('GraphAPI')(l).object('post',s.story_token).post({access_token:c('PageContentTabAccessToken').getAccessToken(),is_published:true}).done(function(t){c('PageContentTabDispatcher').handlePostRemoved(o,s.id);r++;if(r===q.length)c('PageContentTabLoadingDialog').hide();},function(t){var u=t.error_user_msg?t.error_user_msg:i._("Could not publish post."),v=t.error_user_title?t.error_user_title:i._("Error");c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(t),action:j.PUBLISH,post_id:s.id});if(t.error_subcode===1946015)c('PageContentTabCommonConfig').showErrorDialog(v,u);c('PageContentTabLoadingDialog').hide();});});},scheduleDraftPost:function n(o,p,q,r){c('PageContentTabLoadingDialog').show();c('GraphAPI')(l).object('post',q.story_token).post({access_token:c('PageContentTabAccessToken').getAccessToken(),scheduled_publish_time:Math.floor(r.getTime()/1000)}).done(function(s){c('PageContentTabDispatcher').handlePostRemoved(o,q.id);q.scheduled_publish_time=r.toISOString();c('PageContentTabDispatcher').handlePostCreated(k.SCHEDULED_POSTS,q,o);c('PageContentTabLoadingDialog').hide();},function(s){var t=s.error_user_msg?s.error_user_msg:i._("Could not schdule post."),u=s.error_user_title?s.error_user_title:i._("Error");c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(s),action:j.SCHEDULE,post_id:q.id});if(s.error_subcode===1946015)c('PageContentTabCommonConfig').showErrorDialog(u,t);c('PageContentTabLoadingDialog').hide();});},reloadTab:function n(o){c('Arbiter').inform('reloadContentTab/'+o);},changeTab:function n(o){c('Arbiter').inform('changeContentTab/'+o);},changeTabAndForceReload:function n(o){c('Arbiter').inform('changeContentTabAndForceReload/'+o);},reloadVideoListHeader:function n(o){c('PageContentTabDispatcher').handleRequestVideoListHeaderInfo(o);},reschedulePost:function n(o,p,q){c('PageContentTabLoadingDialog').show();c('GraphAPI')(l).object('post',p.story_token).post({access_token:c('PageContentTabAccessToken').getAccessToken(),scheduled_publish_time:Math.floor(q.getTime()/1000)}).done(function(r){c('PageContentTabDispatcher').handlePostChanged({scheduled_publish_time:q.toISOString(),id:p.id});c('PageContentTabLoadingDialog').hide();},function(r){c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,o,{error:JSON.stringify(r),action:j.RESCHEDULE,post_id:p.id});});},unschedulePosts:function n(o,p,q){c('PageContentTabLoadingDialog').show();q.forEach(function(r){c('GraphAPI')(l).object('post',r.story_token).post({access_token:c('PageContentTabAccessToken').getAccessToken(),scheduled_publish_time:0}).done(function(s){c('PageContentTabDispatcher').handlePostRemoved(o,r.id);c('PageContentTabDispatcher').handlePostCreated(k.DRAFTS,r,o);c('PageContentTabLoadingDialog').hide();},function(s){c('PageContentTabLogger').log(c('PageContentTabLoggingEvents').API_ERROR,p,{error:JSON.stringify(s),action:j.UNSCHEDULE,post_id:r.id});});});},updateSinglePost:function n(o){c('PageContentTabDispatcher').handlePostChanged(o);},deleteCollections:function n(o,p,q){c('PageContentTabLoadingDialog').show();var r=0;q.forEach(function(s){c('GraphAPI')(l).object('curated_collection',s.id).remove({access_token:c('PageContentTabAccessToken').getAccessToken()}).done(function(t){c('PageContentTabDispatcher').handlePostRemoved(o,s.id,p);r++;if(r===q.length)c('PageContentTabLoadingDialog').hide();});},this);}};f.exports=m;}),null);
__d("XComposerXVideoUploadDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composerx\/video\/dialog\/",{target_id:{type:"FBID",required:true},source_id:{type:"String",required:true},entry_point:{type:"Enum",required:true,enumType:1},is_reference_video:{type:"Bool",defaultValue:false}});}),null);
__d('ComposerXVideoUploadDialogController',['ActorURI','Arbiter','AsyncDialog','AsyncRequest','Bootloader','ComposerEntryPointRef','ComposerXVideoUploadDialog.react','DOM','PageContentTabActions','React','ReactDOM','ReactObjectiveFirstPagesComposerGlobalFlags','XComposerXVideoUploadDialogController'],(function a(b,c,d,e,f,g){var h={};function i(n){return h[n];}function j(n){h[n.getID()]=n;}function k(n){return n in h;}var l=c('ComposerEntryPointRef').TIMELINE;function m(n,o,p,q,r,s,t,u,v,w){'use strict';this.$ComposerXVideoUploadDialogController1=n;this.$ComposerXVideoUploadDialogController2=o;this.$ComposerXVideoUploadDialogController3=p;this.$ComposerXVideoUploadDialogController4=q;this.$ComposerXVideoUploadDialogController5=r;this.$ComposerXVideoUploadDialogController6=s;this.$ComposerXVideoUploadDialogController7=t;this.$ComposerXVideoUploadDialogController8=u;this.$ComposerXVideoUploadDialogController9=v;this.$ComposerXVideoUploadDialogController10=w;this.$ComposerXVideoUploadDialogController11=m.$ComposerXVideoUploadDialogController12(this.$ComposerXVideoUploadDialogController1,this.$ComposerXVideoUploadDialogController4,this.$ComposerXVideoUploadDialogController8);this.$ComposerXVideoUploadDialogController13=false;this.$ComposerXVideoUploadDialogController14=c('DOM').create('span');c('DOM').appendContent(document.body,this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController15();}m.prototype.getID=function(){'use strict';return this.$ComposerXVideoUploadDialogController11;};m.prototype.setFileInput=function(n){'use strict';this.$ComposerXVideoUploadDialogController2=n;};m.prototype.setDroppedFiles=function(n){'use strict';this.$ComposerXVideoUploadDialogController3=n;};m.prototype.setTab=function(n){'use strict';this.$ComposerXVideoUploadDialogController10=n;};m.prototype.$ComposerXVideoUploadDialogController16=function(n){'use strict';this.$ComposerXVideoUploadDialogController17=n;if(this.$ComposerXVideoUploadDialogController18)this.show();};m.prototype.$ComposerXVideoUploadDialogController19=function(){'use strict';if(c('ReactObjectiveFirstPagesComposerGlobalFlags').getIsObjectiveFirstPagesComposer())c('Bootloader').loadModules(["PagesPublishingLoggingActions","PagesPublishingFunnelLoggingAdditionalPostTypes"],function(n,o){n.setPostType(o.VIDEO);},'ComposerXVideoUploadDialogController');};m.prototype.$ComposerXVideoUploadDialogController15=function(){'use strict';var n=c('XComposerXVideoUploadDialogController').getURIBuilder().setFBID('target_id',this.$ComposerXVideoUploadDialogController1).setString('source_id',this.$ComposerXVideoUploadDialogController11).setEnum('entry_point',this.$ComposerXVideoUploadDialogController4).setBool('is_reference_video',this.$ComposerXVideoUploadDialogController9).getURI();n=c('ActorURI').create(n,this.$ComposerXVideoUploadDialogController1);c('AsyncDialog').send(new (c('AsyncRequest'))(n));};m.prototype.$ComposerXVideoUploadDialogController20=function(){'use strict';this.$ComposerXVideoUploadDialogController19();c('ReactDOM').render(c('React').createElement(c('ComposerXVideoUploadDialog.react'),{canShowOptimisticPost:this.$ComposerXVideoUploadDialogController7,composer:this.$ComposerXVideoUploadDialogController17,composerID:this.$ComposerXVideoUploadDialogController11,isProfileVideo:this.$ComposerXVideoUploadDialogController4==='profile_video',isReferenceVideo:this.$ComposerXVideoUploadDialogController9,showDialogCancelButton:this.$ComposerXVideoUploadDialogController5,showProcessingDialog:this.$ComposerXVideoUploadDialogController6,isPageTrailer:this.$ComposerXVideoUploadDialogController4===c('ComposerEntryPointRef').PAGE_TRAILER,onCancel:this.$ComposerXVideoUploadDialogController21.bind(this),onDone:this.$ComposerXVideoUploadDialogController22.bind(this)}),this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=true;};m.prototype.show=function(){'use strict';if(this.$ComposerXVideoUploadDialogController17){this.$ComposerXVideoUploadDialogController18=false;if(this.$ComposerXVideoUploadDialogController2){c('Arbiter').inform('ComposerXFilesStore/filesAdded/'+this.$ComposerXVideoUploadDialogController11+'/videoupload',{fileInput:this.$ComposerXVideoUploadDialogController2},c('Arbiter').BEHAVIOR_PERSISTENT);}else if(this.$ComposerXVideoUploadDialogController3)c('Arbiter').inform('ComposerXFilesStore/filesDropped/'+this.$ComposerXVideoUploadDialogController11+'/videoupload',{files:this.$ComposerXVideoUploadDialogController3},c('Arbiter').BEHAVIOR_PERSISTENT);this.$ComposerXVideoUploadDialogController20();}else this.$ComposerXVideoUploadDialogController18=true;};m.prototype.$ComposerXVideoUploadDialogController21=function(){'use strict';c('Arbiter').inform('videoUpload/cancel',{composerID:this.$ComposerXVideoUploadDialogController11});this.hide();};m.prototype.$ComposerXVideoUploadDialogController22=function(n){'use strict';c('Arbiter').inform('videoUpload/'+this.$ComposerXVideoUploadDialogController11+'/done');if(this.$ComposerXVideoUploadDialogController10)c('PageContentTabActions').reloadTab(this.$ComposerXVideoUploadDialogController10);this.hide();};m.prototype.hide=function(){'use strict';c('ReactDOM').unmountComponentAtNode(this.$ComposerXVideoUploadDialogController14);this.$ComposerXVideoUploadDialogController13=false;};m.$ComposerXVideoUploadDialogController12=function(n,o,p){'use strict';if(p){return p;}else return o+'_'+n;};m.showDialog=function(n){'use strict';n.composerEntryPointRef=n.composerEntryPointRef||l;var o=m.$ComposerXVideoUploadDialogController12(n.targetID,n.composerEntryPointRef,n.originalComposerID);if(!n.fileInput&&!n.files)return;if(!k(o)){j(new m(n.targetID,n.fileInput||null,n.files||null,n.composerEntryPointRef,n.showDialogCancelButton||false,n.showProcessingDialog||false,n.canShowOptimisticPost||false,n.originalComposerID||'',n.isReferenceVideoUpload||false,n.tab||null));}else{if(n.fileInput){i(o).setFileInput(n.fileInput);}else if(n.files)i(o).setDroppedFiles(n.files);if(n.tab)i(o).setTab(n.tab);}i(o).show();};m.setVideoComposer=function(n,o){'use strict';if(h[n])h[n].$ComposerXVideoUploadDialogController16(o);};f.exports=m;}),null);
__d('ShowCreationFlowTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ShowCreationFlowLoggerConfig',this.$ShowCreationFlowTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ShowCreationFlowLoggerConfig',this.$ShowCreationFlowTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ShowCreationFlowTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ShowCreationFlowTypedLogger1=babelHelpers['extends']({},this.$ShowCreationFlowTypedLogger1,j);return this;};h.prototype.setError=function(j){this.$ShowCreationFlowTypedLogger1.error=j;return this;};h.prototype.setPageID=function(j){this.$ShowCreationFlowTypedLogger1.page_id=j;return this;};h.prototype.setStep=function(j){this.$ShowCreationFlowTypedLogger1.step=j;return this;};h.prototype.setVC=function(j){this.$ShowCreationFlowTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$ShowCreationFlowTypedLogger1=babelHelpers['extends']({},this.$ShowCreationFlowTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={error:true,page_id:true,step:true,vc:true};f.exports=h;}),null);
__d('formatDurationSeconds',['fbt','padNumber'],(function a(b,c,d,e,f,g,h){function i(j){var k=Math.floor(j/3600),l=Math.floor(j/60%60),m=Math.floor(j%60);if(k){return h._("{hours}:{minutes}:{seconds}",[h.param('hours',k),h.param('minutes',c('padNumber')(l,2)),h.param('seconds',c('padNumber')(m,2))]);}else return h._("{minutes}:{seconds}",[h.param('minutes',l),h.param('seconds',c('padNumber')(m,2))]);}f.exports=i;}),null);
__d('OptimisticVideoProgressBar.react',['cx','fbt','Arbiter','AsyncRequest','BUIProgressBar.react','ChannelConstants','React','Run','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=5000,n='video_encode';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={videoProgress:0,completed:false,encodeToken:{}},this.inactivityTimer=0,this.checkVideoStatus=function(u){new (c('AsyncRequest'))().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:u}).setHandler(function(v){var w=v.getPayload();if(w.is_ready){this.onEncodeFinished(u);}else this.inactivityTimer=this.startInactivityTimer(u);}.bind(this)).send();}.bind(this),this.startInactivityTimer=function(u){return setTimeout(this.checkVideoStatus.bind(this,u),m);}.bind(this),this.stopInactivityTimer=function(){clearTimeout(this.inactivityTimer);}.bind(this),this.resetInactivityTimer=function(u){this.stopInactivityTimer();this.inactivityTimer=this.startInactivityTimer(u);}.bind(this),this.getChannelType=function(){return c('ChannelConstants').getArbiterType(n);},this.onComplete=function(){c('Arbiter').inform(this.props.onReadyEvent,{videoID:this.props.videoID,videoAssetID:this.props.videoAssetID,source:this.props.source});}.bind(this),this.onEncodeFinished=function(){this.stopInactivityTimer();this.state.encodeToken.unsubscribe();this.setState({videoProgress:100,completed:true});}.bind(this),this.onEncodeUpdate=function(u,v){if(v.obj.videoID!=this.props.videoID)return;this.resetInactivityTimer(this.props.videoID);if(v.obj.progress<this.state.videoProgress)return;if(v.obj.stage==='finish'){this.onEncodeFinished();}else this.setState({videoProgress:v.obj.progress,completed:this.state.completed||v.obj.stage==='finish'});}.bind(this),q;}o.prototype.componentWillMount=function(){'use strict';var p=c('Arbiter').subscribe(this.getChannelType(),this.onEncodeUpdate);c('Run').onLeave(function(){return p.unsubscribe();});this.inactivityTimer=this.startInactivityTimer(this.props.videoID);this.setState({encodeToken:p});};o.prototype.componentWillUnmount=function(){'use strict';this.state.encodeToken.unsubscribe();this.stopInactivityTimer();};o.prototype.componentDidUpdate=function(p,q){'use strict';if(!q.completed&&this.state.completed)this.onComplete();};o.prototype.render=function(){'use strict';var p=i._("FINISHED"),q=i._("PROCESSING"),r=this.state.completed?p:q;return c('React').createElement(c('BUIProgressBar.react'),{className:c('joinClasses')("_33bk",this.props.className),message:r,isComplete:this.state.completed,percentage:this.state.videoProgress,width:this.props.width});};o.propTypes={videoID:l.string.isRequired,videoAssetID:l.string||null,width:l.number.isRequired,onReadyEvent:l.string.isRequired,source:l.string};f.exports=o;}),null);
__d('Dimensions',[],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return {fontScale:1,height:550,width:310,scale:2.5};}};f.exports=h;}),null);
__d('PixelRatio',['Dimensions'],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return c('Dimensions').get('window').scale;},getFontScale:function i(){return c('Dimensions').get('window').fontScale||h.get();},getPixelSizeForLayoutSize:function i(j){return Math.round(j*h.get());},roundToNearestPixel:function i(j){var k=h.get();return Math.round(j*k)/k;},startDetecting:function i(){}};f.exports=h;}),null);
__d("XChannelToWatchAndScrollNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/",{});}),null);
__d("XChannelToWatchAndScrollNuxDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel-to-wns\/nux\/dismiss\/",{});}),null);
__d('VideoChannelWatchAndScrollIcon.react',['cx','fbt','AsyncRequest','Image.react','React','XUIAmbientNUX.react','XChannelToWatchAndScrollNuxController','XChannelToWatchAndScrollNuxDismissController'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:false},this.$VideoChannelWatchAndScrollIcon1=null,this.$VideoChannelWatchAndScrollIcon2=function(event){var s=c('XChannelToWatchAndScrollNuxDismissController').getURIBuilder().getURI(),t=new (c('AsyncRequest'))().setURI(s);t.send();this.props.onClick(event);}.bind(this),this.renderLayers=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.icon;}.bind(this),onCloseButtonClick:function(){return this.setState({nuxShown:false});}.bind(this),position:'left',shown:this.state.nuxShown,width:'auto',key:'wns'},i._("You can now enter Watch and Scroll to continue browsing!"));}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';var n=c('XChannelToWatchAndScrollNuxController').getURIBuilder().getURI();this.$VideoChannelWatchAndScrollIcon1=new (c('AsyncRequest'))().setURI(n).setHandler(function(o){if(!o)return;if(o.payload)this.setState({nuxShown:o.payload.shouldShow});}.bind(this));this.$VideoChannelWatchAndScrollIcon1.send();};m.prototype.componentWillUnmount=function(){'use strict';this.$VideoChannelWatchAndScrollIcon1&&this.$VideoChannelWatchAndScrollIcon1.abandon();};m.prototype.render=function(){'use strict';return c('React').createElement('span',null,c('React').createElement('a',{href:'#',className:"_27p2",onClick:this.$VideoChannelWatchAndScrollIcon2,ref:'icon'},c('React').createElement(c('Image.react'),{alt:i._("Enter Watch and Scroll"),height:14,src:'/images/video/player/embedded_controls/icons/wns.png',width:14})),this.renderLayers());};m.propTypes={onClick:l.func.isRequired};f.exports=m;}),null);
__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking','viewportTrackingBuilder'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n){return {getDataFromConfig:function o(p,q){q.log=p.log;},getAllStories:function o(){var p=c('DOM').scry(n.container,"._5bll");return p.filter(function(q){return q.getAttribute('data-home-vpv');});},getStoryID:function o(p){var q=JSON.parse(p.getAttribute('data-home-vpv'));return q&&q.storyID;},getDataToLog:function o(p){return JSON.parse(p.getAttribute('data-home-vpv'));}};}i=babelHelpers.inherits(l,c('ViewportTracking'));j=i&&i.prototype;l.prototype.sendDataToLog=function(n,o){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;p[c('VideoHomeLoggerFields').SESSION_ID]=o.sessionID;p[c('VideoHomeLoggerFields').DATA_SOURCE]=o.dataSource;p[c('VideoHomeLoggerFields').CHANNEL_ID]=o.channelID;p[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;p[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=o.storyID;p[c('VideoHomeLoggerFields').CHANNEL_POSITION]=o.channelPosition;p[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=o.positionInChannel;p[c('VideoHomeLoggerFields').TRACKING_DATA]=o.trackingData;this.log&&this.log(p);};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this);};function l(){i.apply(this,arguments);}var m=c('viewportTrackingBuilder')(function(n){var o=new l(k(n));o.init(n);return o;});f.exports=m;}),null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],(function a(b,c,d,e,f,g){var h=void 0,i=void 0,j=void 0,k=0,l={init:function m(n){j=n.session_id;k=Date.now();var o=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),n.container);i=o;var p=c('VideoHomeViewportTracking').factory({log:l.log,container:n.container,record_delay:0});h=p;c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;if(t){t.subscribe(c('BigPipe').Events.tti,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});t.subscribe(c('BigPipe').Events.loaded,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});}});function q(){if(j!==n.session_id)return;var r={};r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;r[c('VideoHomeLoggerFields').SESSION_ID]=j;r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').UNKNOWN;l.log(r);o.updateTimeTrackingData(true);p.updateTimeTrackingData(true);j=null;i=null;h=null;}c('Run').onLeave(q);c('Banzai').subscribe(c('Banzai').SHUTDOWN,q);},updateViewportTracking:function m(){if(i){i.fireTimer();i.updateTimeTrackingData(false,'scroll');}if(h){h.fireTimer();h.updateTimeTrackingData(false,'scroll');}},_pause:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},_resume:function m(n,o){if(j){var p={};p[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;p[c('VideoHomeLoggerFields').SESSION_ID]=j;p[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;p[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=o;l.log(p);}},getPlayerLoggingData:function m(){if(!j)return {};return {video_home_session_id:j};},log:function m(n){if(j&&k){var o=Date.now()-k;n[c('VideoHomeLoggerFields').TIME_SINCE_START]=o+.001;}c('BanzaiLogger').log('VideoHomeLoggerConfig',n);}};c('Arbiter').subscribe('LogEnterChannel',l._pause);c('Arbiter').subscribe('LogExitChannel',l._resume);f.exports=l;}),null);
__d("XVideoHomeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/home\/async\/{id}\/",{id:{type:"String",required:true},session_id:{type:"String",required:true},data_source:{type:"String",required:true},channel_position:{type:"Int",required:true},cursor:{type:"String"},count:{type:"Int",defaultValue:4}});}),null);
__d('VideoHomeCarousel',['collectDataAttributes','AsyncRequest','DOM','VideoHomeLogger','VideoHomeEvents','VideoHomeRequestStatus','VideoHomeLoggerFields','XVideoHomeAsyncController'],(function a(b,c,d,e,f,g){var h={},i={};function j(k,l,m,n,o,p,q){'use strict';this.$VideoHomeCarousel1=k;this.$VideoHomeCarousel2=l;this.$VideoHomeCarousel3=m;this.$VideoHomeCarousel4=n;this.$VideoHomeCarousel5=o;this.$VideoHomeCarousel6=p;this.$VideoHomeCarousel7=q;this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel9=5;if(!this.$VideoHomeCarousel6)this.$VideoHomeCarousel1.endCarousel();this.$VideoHomeCarousel1.subscribe('needsitems',this.$VideoHomeCarousel10.bind(this));}j.register=function(k,l,m,n,o,p,q,r,s){'use strict';var t=l.map(function(u){return c('collectDataAttributes')(u.children[0],['ft']);});h[o]=new j(k,m,n,o,p,q,r);i[o]={videoIDs:s,feedTrackingData:t,cursorInfo:{cursor:r,hasNextPage:q}};};j.getChannelInfoMap=function(){'use strict';return i;};j.load=function(k,l,m,n,o){'use strict';var p=l.map(function(s){return c('collectDataAttributes')(s.children[0],['ft']);}),q=i[k];q.videoIDs=q.videoIDs.concat(o);q.feedTrackingData=q.feedTrackingData.concat(p);q.cursorInfo.cursor=n;q.cursorInfo.hasNextPage=m;var r=h[k];r.$VideoHomeCarousel6=m;r.$VideoHomeCarousel7=n;r.$VideoHomeCarousel8=null;if(l&&l.length){l=l.map(function(s){return c('DOM').create('li',{},s);});r.$VideoHomeCarousel1.addItems(l);}if(!m)r.$VideoHomeCarousel1.endCarousel();};j.prototype.$VideoHomeCarousel10=function(){'use strict';if(!this.$VideoHomeCarousel6||this.$VideoHomeCarousel8!==null)return;var k=this.$VideoHomeCarousel3,l=this.$VideoHomeCarousel4,m=c('XVideoHomeAsyncController').getURIBuilder().setString('session_id',this.$VideoHomeCarousel2).setString('data_source',k).setInt('channel_position',this.$VideoHomeCarousel5).setString('id',l);if(this.$VideoHomeCarousel7)m.setString('cursor',this.$VideoHomeCarousel7);var n=m.getURI(),o=Date.now();function p(r){var s={};s[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').LOAD_ITEMS;s[c('VideoHomeLoggerFields').REQUEST_STATUS]=r;s[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-o;s[c('VideoHomeLoggerFields').DATA_SOURCE]=k;s[c('VideoHomeLoggerFields').CHANNEL_ID]=l;c('VideoHomeLogger').log(s);}var q=new (c('AsyncRequest'))().setURI(n).setHandler(function(){p(c('VideoHomeRequestStatus').SUCCEEDED);}).setAbortHandler(function(){p(c('VideoHomeRequestStatus').ABORTED);}).setErrorHandler(function(){p(c('VideoHomeRequestStatus').FAILED);if(q!==this.$VideoHomeCarousel8)return;if(this.$VideoHomeCarousel9>0){this.$VideoHomeCarousel8.abort();this.$VideoHomeCarousel8=null;this.$VideoHomeCarousel10();this.$VideoHomeCarousel9--;}else this.$VideoHomeCarousel1.endCarousel();}.bind(this));this.$VideoHomeCarousel8=q;q.send();};f.exports=j;}),null);
__d('VideoProgressPreviewBar.react',['cx','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$VideoProgressPreviewBar2=function(){this.setState({hidden:true});this.$VideoProgressPreviewBar1.release();}.bind(this);this.state={progressPercent:l.initialProgressPercent,hidden:true};this.$VideoProgressPreviewBar1=new (c('SubscriptionsHandler'))();this.props.videoController.registerOption('VideoProgressPreviewComponent','available',function(){return true;});this.props.videoController.registerOption('VideoProgressPreviewComponent','destroyed',function(){throw new Error('Option Destroy for VideoProgressPreviewComponent is non readable');},function(){return this.$VideoProgressPreviewBar2();}.bind(this));this.$VideoProgressPreviewBar1.addSubscriptions(l.videoController.addListener('updateStatus',function(m){var n=l.videoController.getPlaybackDuration();this.setState({progressPercent:m.position/n});}.bind(this)),l.videoController.addListener('beginPlayback',function(){this.setState({hidden:false});var m=l.videoController.getOption('VideoControls','areControlsVisible');this.$VideoProgressPreviewBar3(m);}.bind(this)),l.videoController.addListener('finishPlayback',this.$VideoProgressPreviewBar2),l.videoController.addListener('VideoControls/visibilityUpdate',function(m){var n=m.areControlsVisible;return this.$VideoProgressPreviewBar3(n);}.bind(this)),{unsubscribe:function(){this.props.videoController.unregisterOption('VideoProgressPreviewComponent','available');this.props.videoController.unregisterOption('VideoProgressPreviewComponent','destroyed');}.bind(this)});}k.prototype.componentWillUnmount=function(){this.$VideoProgressPreviewBar1.release();};k.prototype.render=function(){if(this.state.hidden)return c('React').createElement('div',null);var l=this.props.width+'px',m=this.props.height+'px',n=this.props.width*this.state.progressPercent,o=c('React').createElement('div',{style:{width:l,height:m}},c('React').createElement('div',{style:{width:l,height:m},className:"_5zl4"}),c('React').createElement('div',{style:{height:m,width:n},className:"_5zl5"}));return o;};k.prototype.$VideoProgressPreviewBar3=function(l){if(!l){if(!this.props.hideAfterInitialInteraction)this.setState({hidden:false});return;}this.setState({hidden:true});if(this.props.hideAfterInitialInteraction)this.$VideoProgressPreviewBar2();};k.destroyComponentIfAvailable=function(l){var m=l.hasOption('VideoProgressPreviewComponent','destroyed');if(m)l.setOption('VideoProgressPreviewComponent','destroyed',true);};k.defaultProps={initialProgressPercent:0};f.exports=k;}),null);
__d('VideoStripThumbnailPlaceholder.react',['cx','React','XUICarouselItem.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.thumbnailWidth,n=this.props.thumbnailHeight,o={height:n+'px',width:m+'px'},p="_4n83"+(this.props.pageLead?' '+"_3ger":''),q=c('React').createElement('span',{className:p,style:o},c('React').createElement('div',{className:"_4n84"}));return c('React').createElement(c('XUICarouselItem.react'),{selected:false},q);};function l(){'use strict';i.apply(this,arguments);}l.propTypes={pageLead:k.bool,thumbnailWidth:k.number.isRequired,thumbnailHeight:k.number.isRequired};f.exports=l;}),null);
__d('VideoStripThumbnailCarousel.react',['csx','cx','fbt','invariant','ix','CSS','DOM','DOMContainer.react','Image.react','React','VideoChannelViewVariables','VideoStripThumbnailPlaceholder.react','XUICarousel.react','XUICarouselAnimator','XUICarouselArrow.react','XUICarouselItem.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,o=c('React').PropTypes,p=85,q=8,r=60,s=8,t=c('VideoChannelViewVariables').thumbnailRedesign,u=c('VideoChannelViewVariables').channelPivots,v=t?82:0,w=t?12:0,x=16,y=t?-4:16;m=babelHelpers.inherits(z,c('React').Component);n=m&&m.prototype;function z(aa,ba){'use strict';n.constructor.call(this,aa,ba);this.$VideoStripThumbnailCarousel1=0;this.$VideoStripThumbnailCarousel2=0;this.$VideoStripThumbnailCarousel3=0;this.$VideoStripThumbnailCarousel4=0;this.state={pageNumber:0};}z.prototype.shouldComponentUpdate=function(aa,ba){'use strict';return c('shallowCompare')(this,aa,ba);};z.prototype.componentWillUpdate=function(aa,ba){'use strict';if(!u&&this.props.index!==aa.index){var ca=Math.floor(aa.index/this.$VideoStripThumbnailCarousel3);if(ca!==ba.pageNumber)this.setState({pageNumber:ca});}};z.prototype.componentWillReceiveProps=function(aa){'use strict';if(u&&aa.pageNumber!==this.state.pageNumber)this.setState({pageNumber:aa.pageNumber});};z.prototype.$VideoStripThumbnailCarousel5=function(){'use strict';var aa=z.calculateThumbDimensions(this.props.dialogWidth,this.props.extraThumbnailHeight);this.$VideoStripThumbnailCarousel1=aa.width;this.$VideoStripThumbnailCarousel2=aa.height;this.$VideoStripThumbnailCarousel3=aa.thumbnailsPerPage;this.$VideoStripThumbnailCarousel4=this.$VideoStripThumbnailCarousel6(this.$VideoStripThumbnailCarousel1);};z.calculateThumbDimensions=function(aa,ba){'use strict';var ca=p+ba,da=ca*1.7778,ea=aa-y,fa=Math.floor(ea/(da+q)),ga=ea-fa*q,ha=Math.ceil(ga/(fa+.5)),ia=ha*.5625;return {width:ha,height:ia,thumbnailsPerPage:fa};};z.getVideoStripHeight=function(aa,ba){'use strict';var ca=z.calculateThumbDimensions(aa,ba);return ca.height+s+x+v-w;};z.prototype.$VideoStripThumbnailCarousel6=function(aa){'use strict';var ba=this.props.dialogWidth;if(!this.props.hasNext){var ca=this.props.thumbnails.length+this.props.pendingPreviousThumbnails;ba=Math.min(ba,ca*(aa+q));}return ba;};z.prototype.$VideoStripThumbnailCarousel7=function(aa,ba,ca,da,ea){'use strict';if(da===this.props.dialogWidth&&ea===0&&this.props.pendingPreviousThumbnails===0){c('CSS').addClass(aa,t?"_533":"_3ger");}else c('CSS').removeClass(aa,t?"_533":"_3ger");var fa=c('DOM').find(aa,"._38a3");c('DOM').setAttributes(aa,{style:{width:ba+'px'}});c('DOM').setAttributes(fa,{style:{width:ba+'px',height:ca+'px'}});return c('React').createElement(c('XUICarouselItem.react'),{key:ea},c('React').createElement(c('DOMContainer.react'),null,aa));};z.prototype.$VideoStripThumbnailCarousel8=function(aa){'use strict';if(this.state.pageNumber<=0){aa.stopPropagation();return;}var ba=this.state.pageNumber-1;this.setState({pageNumber:ba});if(u&&this.props.updatePageNumber)this.props.updatePageNumber(ba);aa.stopPropagation();};z.prototype.$VideoStripThumbnailCarousel9=function(aa,ba){'use strict';var ca=this.state.pageNumber+1;if(ba)ca=this.state.pageNumber;this.setState({pageNumber:ca});if(u&&this.props.updatePageNumber)this.props.updatePageNumber(ca);aa.stopPropagation();};z.prototype.$VideoStripThumbnailCarousel10=function(aa){'use strict';var ba=-((r+v)/2),ca={marginTop:ba+'px'},da=l("101565"),ea=l("101566");if(t){da=l("101719");ea=l("101720");}return [c('React').createElement('div',{className:"_1ed1",onClick:function(fa){return this.$VideoStripThumbnailCarousel8(fa);}.bind(this),role:'presentation',style:ca},c('React').createElement(c('XUICarouselArrow.react'),{disabled:this.state.pageNumber===0},c('React').createElement(c('Image.react'),{alt:j._("Prev"),src:da}))),c('React').createElement('div',{className:"_1ed1",onClick:function(fa){return this.$VideoStripThumbnailCarousel9(fa,aa);}.bind(this),role:'presentation',style:ca},c('React').createElement(c('XUICarouselArrow.react'),{disabled:aa},c('React').createElement(c('Image.react'),{alt:j._("Next"),src:ea})))];};z.prototype.render=function(){'use strict';this.$VideoStripThumbnailCarousel5();var aa=new (c('XUICarouselAnimator'))({type:'horizontal'}),ba=null,ca=this.$VideoStripThumbnailCarousel3*this.state.pageNumber,da=ca+this.$VideoStripThumbnailCarousel3,ea=Math.min(da,this.props.thumbnails.length-1);if(this.$VideoStripThumbnailCarousel4===this.props.dialogWidth){var fa=da>this.props.thumbnails.length;ba=this.$VideoStripThumbnailCarousel10(fa);}var ga=this.props.thumbnails,ha=[];for(var ia=0;ia<this.props.pendingPreviousThumbnails;ia++)ha.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{pageLead:ia===0,thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ia-this.props.pendingPreviousThumbnails}));for(ia=ca;ia<=da;ia++)if(ia<=ea){ha.push(this.$VideoStripThumbnailCarousel7(ga[ia],this.$VideoStripThumbnailCarousel1,this.$VideoStripThumbnailCarousel2,this.$VideoStripThumbnailCarousel4,ia-ca));}else if(this.props.hasNext)ha.push(c('React').createElement(c('VideoStripThumbnailPlaceholder.react'),{thumbnailWidth:this.$VideoStripThumbnailCarousel1,thumbnailHeight:this.$VideoStripThumbnailCarousel2,key:ia-ca}));if(ea<da&&this.props.hasNext){this.props.loadNextItems();}else this.props.onAllItemsLoaded();var ja=this.$VideoStripThumbnailCarousel2+s+v;return c('React').createElement(c('XUICarousel.react'),{animator:aa,arrows:ba,initialAutoplay:false,initialIndex:0,onItemClick:function ka(){return null;},resizeViewport:'disabled',viewportHeight:ja,viewportWidth:this.$VideoStripThumbnailCarousel4,wrapAround:this.state.pageNumber!==0},ha);};z.propTypes={dialogWidth:o.number.isRequired,extraThumbnailHeight:o.number.isRequired,hasNext:o.bool.isRequired,index:o.number.isRequired,loadNextItems:o.func.isRequired,pendingPreviousThumbnails:o.number.isRequired,thumbnails:o.arrayOf(o.object).isRequired,pageNumber:o.number,updatePageNumber:o.func};f.exports=z;}),null);
__d('VideoChannelController',['ix','csx','cx','fbt','Arbiter','CSS','DialogX','DOM','DOMDimensions','Event','Image.react','LayerDestroyOnHide','LayerHideOnEscape','LayerHideOnTransition','Map','PageTransitionPriorities','PageTransitions','React','ReactDOM','StreamingReactionsTrayEvents','StreamViewportTracking','Style','SubscriptionsHandler','URI','VideoAutoplayControllerX','VideoChainingCaller','VideoChannel','VideoChannelExperiments','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerEventTargets','VideoChannelLoggerFields','VideoChannelStoryFetcher','VideoChannelViewVariables','VideoChannelWatchAndScrollIcon.react','VideoHomeCarousel','VideoPlayerLoggerSource','VideoPlayerReason','VideoProgressPreviewBar.react','VideoStripThumbnailCarousel.react','VideoWatchAndScrollController','ViewportTrackingConfig','XUISpinner.react','collectDataAttributes','fbglyph','getElementPosition','getVendorPrefixedName','getViewportDimensions','throttle'],(function a(b,c,d,e,f,g,h,i,j,k){var l=c('VideoChannelViewVariables').dynamicAspectRatios,m=c('VideoChannelViewVariables').channelRedesign,n=l&&!m?720:560,o=1060,p=.1,q=1080,r=c('VideoChannelViewVariables').wnsFromChannel,s=c('VideoChannelViewVariables').channelPageTransitions,t=300,u=48+56+44,v=480,w=48+48,x=300,y=2160,z=3840,aa=600,ba=c('VideoChannelViewVariables').channelPivots;function ca(da,ea,fa,ga,ha,ia){'use strict';this.$VideoChannelController27=new (c('Map'))();this.$VideoChannelController1=da;this.$VideoChannelController2=ea;this.$VideoChannelController3=fa;this.$VideoChannelController35=ia;this.$VideoChannelController4=[];this.$VideoChannelController13=new (c('SubscriptionsHandler'))();this.$VideoChannelController24=false;this.$VideoChannelController39=false;if(ga&&l){var ja=ga.getVideoNode(),ka=ga.getRootNode(),la=ja.getAttribute('data-original-aspect-ratio');this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(ka);if(!la)la=this.getOriginalAspectRatio();this.$VideoChannelController40(parseFloat(la));ga.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);}else this.$VideoChannelController40();this.$VideoChannelController25=true;this.$VideoChannelController5=false;this.$VideoChannelController6=null;this.$VideoChannelController41();this.$VideoChannelController29=!!ha&&ha.isFromWNS;this.$VideoChannelController28=!!ha&&ha.isFromVideoViewCarousel;this.$VideoChannelController30=[];this.$VideoChannelController31=[];this.$VideoChannelController32=0;this.$VideoChannelController36=c('URI').getRequestURI();if(this.isPageTransitionEligible()){this.$VideoChannelController37=this.$VideoChannelController42.bind(this);c('PageTransitions').registerHandler(this.$VideoChannelController37,c('PageTransitionPriorities').DEFAULT+5);}this.$VideoChannelController34=c('StreamViewportTracking').factory(c('ViewportTrackingConfig'),this.$VideoChannelController8);if(!this.$VideoChannelController29)c('VideoChannelLogger').startSession(fa,da,ea);var ma=null;if(ga){this.$VideoChannelController24=true;this.$VideoChannelController5=ga.isAd();this.$VideoChannelController6=ga.getAdClientToken();this.$VideoChannelController38=ga.getSource();ga.updateSource(c('VideoPlayerLoggerSource').CHANNEL);var na=ga.getRootNode();ma=c('collectDataAttributes')(na,['ft']);if(!l)this.$VideoChannelController11=c('DOMDimensions').getElementDimensions(na);var oa=c('getElementPosition')(na);if(!this.$VideoChannelController29)this.$VideoChannelController43(ga);this.$VideoChannelController44(oa,ga);ga.emit('VideoChannelController/enterChannel',{});c('VideoAutoplayControllerX').setShouldAutoplay(false);ga.play(c('VideoPlayerReason').USER);ga.unmute();ga.addListener('toggleFullscreen',function(ra){this.$VideoChannelController39=ra.isFullscreen();}.bind(this,ga));this.$VideoChannelController4.push(ga);c('VideoProgressPreviewBar.react').destroyComponentIfAvailable(ga);}else this.$VideoChannelController45();if(ha&&this.$VideoChannelController29){this.$VideoChannelController31=ha.videoPlayerControllers;this.$VideoChannelController32=ha.channelVideoIndex;this.$VideoChannelController30=ha.channelInteractionsToRegister;this.$VideoChannelController33=ha.rootVideoPlayerController;if(this.$VideoChannelController33)this.$VideoChannelController33.updateSource(c('VideoPlayerLoggerSource').CHANNEL);if(this.$VideoChannelController33)this.$VideoChannelController5=this.$VideoChannelController33.isAd();if(ha.storyFetcher)this.$VideoChannelController26=ha.storyFetcher;}if(ha&&this.$VideoChannelController28){var pa=ha.originalVideoIds,qa=ha.shouldFetchMoreVideos;this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,ea,this.$VideoChannelController6,null,pa,qa);}if(!this.$VideoChannelController26)this.$VideoChannelController26=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,this.$VideoChannelController1,ea,this.$VideoChannelController6,c('VideoHomeCarousel').getChannelInfoMap()[this.$VideoChannelController1]);if(ba)this.$VideoChannelController27.set(this.$VideoChannelController1,this.$VideoChannelController26);this.$VideoChannelController13.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.$VideoChannelController46.bind(this),200)));this.$VideoChannelController26.fetchFirstStory(this.$VideoChannelController24,ma,this.$VideoChannelController32>0);c('Arbiter').inform('VideoChannelView/opened',{controller:ga});}ca.prototype.isPageTransitionEligible=function(){'use strict';return this.$VideoChannelController2!==c('VideoChainingCaller').LIVE_MAP&&s;};ca.prototype.$VideoChannelController42=function(da){'use strict';if(da.getPath()!=this.$VideoChannelController36.getPath())return false;this.close();c('PageTransitions').transitionComplete();return true;};ca.prototype.getWnsChannelVideoIndex=function(){'use strict';return this.$VideoChannelController32;};ca.prototype.getViewportTracker=function(){'use strict';return this.$VideoChannelController34;};ca.prototype.isOpen=function(){'use strict';return this.$VideoChannelController25;};ca.prototype.getOriginalAspectRatio=function(){'use strict';return this.$VideoChannelController11.width/this.$VideoChannelController11.height;};ca.prototype.$VideoChannelController46=function(event){'use strict';this.$VideoChannelController40();c('Arbiter').inform(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,{videoWidth:this.$VideoChannelController20,videoHeight:this.$VideoChannelController19});};ca.prototype.$VideoChannelController40=function(){var da=arguments.length<=0||arguments[0]===undefined?16/9:arguments[0];'use strict';if(this.$VideoChannelController39)return;var ea=c('getViewportDimensions').withoutScrollbars();if(!this.$VideoChannelController14||this.$VideoChannelController14.width!==ea.width||this.$VideoChannelController14.height!==ea.height){this.$VideoChannelController14=ea;this.$VideoChannelController15=Math.max(n,ea.height);this.$VideoChannelController16=Math.max(o,ea.width);var fa=p*(Math.min(q,this.$VideoChannelController15)-n);if(this.isFromAd())fa=0;var ga=t+fa*2,ha=c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController16,fa);if(m)ga=u+ha;var ia=Math.min(y,this.$VideoChannelController15-ga),ja=this.$VideoChannelController16-(m?w:v)-(this.$VideoChannelController12&&this.$VideoChannelController12.isInDetailsMode()&&m?x:0),ka=Math.min(z,ja);this.$VideoChannelController17=ka;this.$VideoChannelController18=ia;if(m){this.setVideoDimensions(ka,ia,fa);}else{var la=Math.min(ia,ka*(1/da)),ma=Math.min(ka,ia*da);this.setVideoDimensions(ma,Math.floor(la),fa);}if(this.$VideoChannelController12)this.$VideoChannelController12.onWindowResize();}};ca.prototype.registerVideoController=function(da){'use strict';if(this.$VideoChannelController4.includes(da))return;da.addListener('toggleFullscreen',function(){return this.$VideoChannelController39=da.isFullscreen();}.bind(this));this.$VideoChannelController4.push(da);da.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);};ca.prototype.setVideoDimensions=function(da,ea,fa){'use strict';this.$VideoChannelController20=da;this.$VideoChannelController19=ea;this.$VideoChannelController21=fa;this.$VideoChannelController4.forEach(function(ga){ga.setDimensions(this.$VideoChannelController20,this.$VideoChannelController19);}.bind(this));};ca.prototype.findVideoControllerForStory=function(da){'use strict';if(this.isCameFromVideoViewCarousel())return this.$VideoChannelController4[0];return this.$VideoChannelController4.find(function(ea){if(da.contains(ea.getRootNode()))return true;return false;});};ca.prototype.getVideoControllers=function(){'use strict';return this.$VideoChannelController4;};ca.prototype.getAvailableHeight=function(){'use strict';return this.$VideoChannelController47()-this.$VideoChannelController48();};ca.prototype.$VideoChannelController47=function(){'use strict';return this.$VideoChannelController15;};ca.prototype.$VideoChannelController48=function(){'use strict';if(this.isFromAd())return 0;return c('VideoStripThumbnailCarousel.react').getVideoStripHeight(this.$VideoChannelController49(),this.getExtraThumbnailHeight());};ca.prototype.getAvailableWidth=function(){'use strict';return this.$VideoChannelController49();};ca.prototype.$VideoChannelController49=function(){'use strict';return this.$VideoChannelController16;};ca.prototype.getVideoHeight=function(){'use strict';return this.$VideoChannelController19;};ca.prototype.getVideoWidth=function(){'use strict';return this.$VideoChannelController20;};ca.prototype.getAvailableVideoWidth=function(){'use strict';return this.$VideoChannelController17;};ca.prototype.getAvailableVideoHeight=function(){'use strict';return this.$VideoChannelController18;};ca.prototype.getExtraThumbnailHeight=function(){'use strict';return this.$VideoChannelController21;};ca.prototype.getOriginalVideoPlayerController=function(){'use strict';if(this.$VideoChannelController24)return this.$VideoChannelController4[0];return null;};ca.prototype.getWNSRootVideoPlayerController=function(){'use strict';return this.$VideoChannelController33;};ca.prototype.getDialog=function(){'use strict';return this.$VideoChannelController7;};ca.prototype.getDialogContent=function(){'use strict';return this.$VideoChannelController8;};ca.prototype.getInteraction=function(){'use strict';return this.$VideoChannelController12;};ca.prototype.setInteraction=function(da){'use strict';this.$VideoChannelController12=da;};ca.prototype.registerWNSVideoControllers=function(){'use strict';var da=this.$VideoChannelController12;if(!da)return;var ea=this.$VideoChannelController31;if(ea&&ea.length){ea.forEach(function(fa){da.registerVideoController(fa);});this.$VideoChannelController31=[];}};ca.prototype.registerChannelInteractionsFromWNS=function(){'use strict';var da=this.$VideoChannelController12;if(!da)return;this.$VideoChannelController30.forEach(function(ea){ea();});this.$VideoChannelController30=[];};ca.prototype.getStoryFetcher=function(){'use strict';return this.$VideoChannelController26;};ca.prototype.getStoryFetcherMap=function(){'use strict';return this.$VideoChannelController27;};ca.prototype.isCameFromVideoViewCarousel=function(){'use strict';return this.$VideoChannelController28;};ca.prototype.fetchStoriesForChannel=function(da,ea,fa){'use strict';var ga=this.$VideoChannelController27.get(da);if(ga)ga.fetchStories(true,ea,fa);};ca.prototype.fetchStories=function(da,ea,fa){'use strict';this.$VideoChannelController26.fetchStories(da,ea,fa);};ca.prototype.hideLoadingState=function(){'use strict';if(this.$VideoChannelController22){c('DOM').remove(this.$VideoChannelController22);this.$VideoChannelController22=null;}if(this.$VideoChannelController23){c('DOM').remove(this.$VideoChannelController23);this.$VideoChannelController23=null;}};ca.prototype.$VideoChannelController45=function(){'use strict';this.$VideoChannelController22=c('DOM').create('div',{className:"_5tl5"});c('ReactDOM').render(c('React').createElement(c('XUISpinner.react'),{size:'large'}),this.$VideoChannelController22);c('DOM').appendContent(document.body,this.$VideoChannelController22);var da=(this.getAvailableHeight()-this.getVideoHeight())/2,ea=(this.$VideoChannelController49()-this.getVideoWidth())/2;c('Style').set(this.$VideoChannelController22,'height',this.getVideoHeight()+'px');c('Style').set(this.$VideoChannelController22,'width',this.getVideoWidth()+'px');c('Style').set(this.$VideoChannelController22,'left',ea+'px');c('Style').set(this.$VideoChannelController22,'top',da+'px');};ca.prototype.$VideoChannelController43=function(da){'use strict';var ea=da.getRootNode();this.$VideoChannelController9=c('DOM').create('div',{className:"_344x"});this.$VideoChannelController9.style.height=this.$VideoChannelController11.height+'px';this.$VideoChannelController9.style.width=this.$VideoChannelController11.width+'px';c('DOM').insertAfter(ea,this.$VideoChannelController9);};ca.prototype.$VideoChannelController41=function(){'use strict';var da={fixedTopPosition:0,width:o,xui:true,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnEscape'),c('LayerHideOnTransition')]},ea=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('span',null,c('React').createElement('a',{className:"_5tl7",href:'#'},c('React').createElement(c('Image.react'),{alt:k._("Close"),src:h("114709")}))),ea);var fa=new (c('DialogX'))(da,ea);c('CSS').addClass(fa.getRoot(),"_19u-");if(l&&!m)c('CSS').addClass(fa.getRoot(),"_5p7p");c('Style').set(fa.getContentRoot(),'width','100%');this.$VideoChannelController7=fa;this.$VideoChannelController8=ea;this.$VideoChannelController10=fa.subscribe('hide',this.$VideoChannelController50.bind(this));fa.show();var ga=c('DOM').find(ea,"._5tl7"),ha=c('DOM').find(fa.getRoot(),"._3ixn");this.$VideoChannelController13.addSubscriptions(c('Event').listen(ga,'click',this.$VideoChannelController51.bind(this)),c('Event').listen(ha,'click',this.$VideoChannelController52.bind(this)));};ca.prototype.$VideoChannelController53=function(da){'use strict';var ea={};ea[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;ea[c('VideoChannelLoggerFields').EVENT_TARGET]=da;c('VideoChannelLogger').log(ea);};ca.prototype.$VideoChannelController52=function(event){'use strict';this.$VideoChannelController53(c('VideoChannelLoggerEventTargets').WASH);var da=this.$VideoChannelController12?this.$VideoChannelController12.getCurrentAbsoluteIndex():null,ea=da!==null?this.getVideoControllers()[da]:null,fa=r&&ea&&ea.getOption('WatchAndScroll','isEligible')&&c('VideoWatchAndScrollController').hasEnoughSpaceToEnter(ea);if(fa)this.close(true);this.$VideoChannelController7.hide();if(fa)event.preventDefault();};ca.prototype.$VideoChannelController51=function(event){'use strict';this.$VideoChannelController53(c('VideoChannelLoggerEventTargets').CLOSE);this.$VideoChannelController7.hide();event.preventDefault();};ca.prototype.$VideoChannelController54=function(event){'use strict';this.$VideoChannelController53(c('VideoChannelLoggerEventTargets').WATCH_AND_SCROLL);this.close(true);this.$VideoChannelController7.hide();event.preventDefault();};ca.prototype.$VideoChannelController44=function(da,ea){'use strict';var fa=c('DOM').create('div',{className:"_3x4t"});this.$VideoChannelController23=fa;c('DOM').appendContent(this.$VideoChannelController8,fa);var ga=ea.getRootNode();c('DOM').appendContent(fa,ga);var ha=da.width,ia=da.height;if(l){ha=this.getVideoWidth();ia=this.getVideoHeight();}else{ia*=this.getVideoWidth()/ha;ha=this.getVideoWidth();if(ia>this.getVideoHeight()){ha*=this.getVideoHeight()/ia;ia=this.getVideoHeight();}}var ja=(this.getAvailableHeight()-this.getVideoHeight())/2,ka=(this.$VideoChannelController49()-this.getVideoWidth())/2,la=(this.getVideoHeight()-ia)/2,ma=(this.getVideoWidth()-ha)/2,na=da.y-ja-la,oa=da.x-ka-ma,pa=da.width/ha;c('Style').set(fa,c('getVendorPrefixedName')('transform'),'translate('+oa+'px,'+na+'px) scale('+pa+')');c('Style').set(fa,'left',ka+'px');c('Style').set(fa,'top',ja+'px');c('Style').set(fa,'padding',la+'px '+ma+'px');ea.setDimensions(ha,ia);if(this.isFromAd()&&ha>aa&&!ea.isHD()&&ea.hasHD())ea.toggleHD();fa.offsetWidth;c('Style').set(fa,'transition','all .35s cubic-bezier(.46,.22,.36,1) .1s');c('Style').set(fa,c('getVendorPrefixedName')('transform'),'none');};ca.prototype.$VideoChannelController50=function(){'use strict';if(!this.isOpen())return;this.close();};ca.prototype.isFromAd=function(){'use strict';return this.$VideoChannelController5;};ca.prototype.getAdClientToken=function(){'use strict';return this.$VideoChannelController6;};ca.prototype.getVideoChainingCaller=function(){'use strict';return this.$VideoChannelController2;};ca.prototype.hasNext=function(){'use strict';return this.$VideoChannelController26.hasNext();};ca.prototype.hasNextForChannel=function(da){'use strict';var ea=this.$VideoChannelController27.get(da);if(ea)return ea.hasNext();return false;};ca.prototype.updateWNSEligibilityButton=function(da){'use strict';if(!this.$VideoChannelController8)return;var ea=c('DOM').scry(this.$VideoChannelController8,"._ia9"),fa=ea[0];if(!fa)return;if(da){c('ReactDOM').render(c('React').createElement(c('VideoChannelWatchAndScrollIcon.react'),{onClick:function(ga){return this.$VideoChannelController54(ga);}.bind(this)}),fa);}else c('ReactDOM').unmountComponentAtNode(fa);};ca.prototype.close=function(da){var ea,fa=this;'use strict';if(!this.$VideoChannelController25)return;this.$VideoChannelController25=false;if(this.$VideoChannelController37&&!c('PageTransitions').isTransitioning()){c('PageTransitions').go(this.$VideoChannelController36);c('PageTransitions').removeHandler(this.$VideoChannelController37,c('PageTransitionPriorities').DEFAULT+5);}this.$VideoChannelController34.updateTimeTrackingData(true);this.$VideoChannelController26.abandonRequest();var ga=this.$VideoChannelController12;if(da===undefined)da=this.$VideoChannelController29;var ha=0;if(da)ha=ga?ga.getCurrentAbsoluteIndex():0;var ia=da&&ga?ga.getVideoController():this.$VideoChannelController4[ha];if(this.$VideoChannelController24||da){var ja=true;if(ia.isState('finished'))ja=false;if((!ga||ga.isCenterVideoActive())&&ia.isState('paused'))ja=false;if(da){(function(){var na,oa=fa.$VideoChannelController4;if(ga)(function(){var ta={};oa.forEach(function(ua){var va=ga.findStoryForVideoController(ua);if(va){var wa=ga.getStoryIndex(va);ta[ua.getVideoID()]=wa;}});oa.sort(function(ua,va){var wa=ta[ua.getVideoID()],xa=ta[va.getVideoID()];return wa-xa;});})();var pa=fa.$VideoChannelController26.getPreloadedData(),qa=pa.stories,ra=[oa[0].getRootNode()].concat(qa),sa=c('VideoWatchAndScrollController').getReactContainer();if(sa){sa.setState({channelVideoElements:[]},function(){sa.setState({channelVideoElements:ra,videoIndex:ha},function(){c('VideoWatchAndScrollController').resetFromChannelView(this.$VideoChannelController26,oa,ha);}.bind(this));}.bind(fa));}else c('VideoWatchAndScrollController').startFromChannelView(fa.$VideoChannelController26,oa,ha,ra,{dimensions:fa.$VideoChannelController11,videoRootNode:fa.$VideoChannelController9?fa.$VideoChannelController9.parentNode:null,source:fa.$VideoChannelController38});})();}else{var ka=ia.getRootNode();c('DOM').insertAfter(this.$VideoChannelController9,ka);c('DOM').remove(this.$VideoChannelController9);if(!ia.isState('fallback'))ia.setDimensions(this.$VideoChannelController11.width,this.$VideoChannelController11.height);}if(ja&&!da){if(c('VideoChannelExperiments').exitChannelPauseWithAutoplayController){c('VideoAutoplayControllerX').setShouldAutoplay(false);}else ia.pause(c('VideoPlayerReason').AUTOPLAY);ia.mute();ia.emit('resumeAutoplay');}ia.emit('VideoChannelController/exitChannel');}else if(!da)ia=null;for(var la=0;la<this.$VideoChannelController4.length;la++){var ma=this.$VideoChannelController4[la];if(ia!==ma){ma.pause(c('VideoPlayerReason').USER);if(!da)ma.abortLoading();}}this.$VideoChannelController4.forEach(function(na){if(da){na.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);}else if(this.$VideoChannelController38){na.updateSource(this.$VideoChannelController38);}else na.updateSource(c('VideoPlayerLoggerSource').INLINE);}.bind(this));this.hideLoadingState();if(this.$VideoChannelController12)this.$VideoChannelController12.onChannelClose();this.$VideoChannelController7.hide();this.$VideoChannelController10.unsubscribe();this.$VideoChannelController13.release();if(!da)c('VideoChannelLogger').endSession();c('Arbiter').inform('VideoChannelView/closed');c('VideoAutoplayControllerX').setShouldAutoplay(true);c('VideoChannel').set(null);if(this.$VideoChannelController35)this.$VideoChannelController35();};ca.openFromVideoPlayer=function(da,ea,fa,ga){'use strict';if(da.isState('fallback'))return;var ha=da.getOption('VideoWithInstreamVideo','controller');if(ha)da=ha;if(c('VideoChannel').get())c('VideoChannel').get().getDialog().hide();c('VideoChannel').set(new ca(ea,fa,da.getVideoID(),da.isPlayerVersion('silvercity')?null:da,ga));};ca.getVideoChannel=function(){'use strict';return c('VideoChannel').get();};ca.isChannelActive=function(){'use strict';return !!c('VideoChannel').get();};ca.prototype.setupStoryFetcherForChannel=function(da){'use strict';var ea=new (c('VideoChannelStoryFetcher'))(this.$VideoChannelController3,da,this.$VideoChannelController2,this.$VideoChannelController6);this.$VideoChannelController27.set(da,ea);};f.exports=ca;}),null);
__d('Pleasantville.react',['React','ReactDOM','VideoPlayerHTML5Api','VideoPlayerHTML5Shaka','VideoPlayerReactConfig','VideoQualityClass'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props,l=k.offsetType,m=k.offsetValue,n=null,o=null;if(l=='horizontal'){o=m;}else if(l=='vertical')n=m;return c('React').createElement('video',{ref:'video',muted:this.props.startMuted,className:this.props.className,'data-video-width':this.props.width||'','data-video-height':this.props.height||'',style:{top:n,left:o}});};j.prototype.getVideoPlayerInitArgs=function(){var k={VideoPlayerHTML5Shaka:c('VideoPlayerHTML5Shaka'),disableNativeControls:true,subtitlesActive:this.props.showSubtitles,minQuality:this.props.forceHD?c('VideoQualityClass').HD:c('VideoPlayerReactConfig').defaultQuality,unloadShouldCancelPendingRequest:true};return {apiConfig:k,apiModule:c('VideoPlayerHTML5Api'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoRenderingUtils',['VideoPlayerExperiments','VideoPlayerVersions'],(function a(b,c,d,e,f,g){'use strict';var h={getPlayerVersion:function i(){return c('VideoPlayerVersions').PLEASANTVILLE;},isEmbeddedControlRedesign:function i(){var j=h.getPlayerVersion();return j===c('VideoPlayerVersions').PLEASANTVILLE||c('VideoPlayerExperiments').flashPlayerHtmlControls;},shouldFallbackToFlash:function i(j){var k=j.getPlayerVersionOverwrite();return k!==c('VideoPlayerVersions').PLEASANTVILLE;},getFlashFalloverVideoDataList:function i(j){var k=[j].concat(j.getFalloverData()),l={};for(var m=k,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;l[q.getStreamType()]=q.getRawData();}var r={};for(var s=0;s<k.length;s++)r[s+1]=k[s].getRawData();return {videoDataPreference:r,videoDataByStreamType:l};}};f.exports=h;}),null);
__d('Silvercity.react',['flash-js','CurrentUser','PixelRatio','React','ReactDOM','URI','UserAgentData','VideoAutoplayGatingResult','VideoPlayerExperiments','VideoPlayerFlashApi','VideoPlayerSilvercityConfigs','VideoRenderingUtils','swfobject','uuid'],(function a(b,c,d,e,f,g){'use strict';var h,i;c('flash-js');var j={autoHD:false,defaultHD:false,disableNativeControls:true,inlinePlayer:false,preload:false,startMuted:false,hideControlsWhenFinished:false,showCaptionsDefault:true,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN};h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.swfID='swf_id_'+c('uuid')();}k.prototype.componentDidMount=function(){this.$Silvercity1();};k.prototype.componentWillReceiveProps=function(l){if(this.$Silvercity2(l))this.swfID='swf_id_'+c('uuid')();};k.prototype.componentDidUpdate=function(l){if(this.$Silvercity2(l))this.$Silvercity1();};k.prototype.$Silvercity2=function(l){return l.videoData.getVideoID()!==this.props.videoData.getVideoID();};k.prototype.$Silvercity3=function(){return {allowFullScreen:true,allowscriptaccess:'always',salign:'tl',scale:'noscale',wmode:'opaque'};};k.prototype.$Silvercity4=function(){var l=c('VideoRenderingUtils').getFlashFalloverVideoDataList(this.props.videoData),m=l.videoDataByStreamType,n=l.videoDataPreference;return {auto_hd:this.props.autoHD,autoplay_reason:this.props.autoplayReason,default_hd:this.props.defaultHD,disable_native_controls:this.props.disableNativeControls,inline_player:this.props.inlinePlayer,pixel_ratio:c('PixelRatio').get(),preload:this.props.preload,start_muted:this.props.startMuted,rtmp_stage_video:true,rtmp_buffer:c('VideoPlayerExperiments').enableRtmpBuffer,rtmp_buffer_time:c('VideoPlayerExperiments').rtmpBufferTime,rtmp_buffer_time_max:c('VideoPlayerExperiments').rtmpBufferTimeMax,video_data:m,video_data_preference:n,show_captions_default:this.props.showCaptionsDefault,persistent_volume:true,hide_controls_when_finished:this.props.hideControlsWhenFinished,rtmp_start_playing_non_zero_stream_time:true,rtmp_improve_playback_config:c('VideoPlayerExperiments').rtmpImprovePlayback,rtmp_no_stream_reported_time:c('VideoPlayerExperiments').rtmpNoStreamReportedTime,rtmp_start_time_fix:c('VideoPlayerExperiments').rtmpStartTimeFix,buffer_length:.1};};k.prototype.$Silvercity1=function(){var l=new (c('swfobject').SWFObject)(c('VideoPlayerSilvercityConfigs').silvercitySwfUrl,this.swfID,this.props.width,this.props.height,['10.3.181.34','11.0.0'],'#000000'),m=this.$Silvercity3();for(var n=Object.keys(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;l.addParam(r,m[r]);}var s=c('UserAgentData').browserName+'+'+c('UserAgentData').browserFullVersion,t=new (c('URI'))().setSubdomain('pixel').toString(),u={params:encodeURIComponent(JSON.stringify(this.$Silvercity4())),width:this.props.width,height:this.props.height,user:c('CurrentUser').getID(),log:c('CurrentUser').isEmployee()?'yes':'no',showErrors:'yes',div_id:this.swfID,swf_id:this.swfID,browser:s,tracking_domain:encodeURIComponent(t),post_form_id:''};for(var v=Object.keys(u),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;l.addVariable(z,u[z]);}window[this.swfID]=l;l.write(this.swfID);};k.prototype.render=function(){return c('React').createElement('div',{ref:'video','data-flash':1,id:this.swfID,className:this.props.className,'data-video-width':this.props.width,'data-video-height':this.props.height});};k.prototype.getVideoPlayerInitArgs=function(){return {apiConfig:{is_live_streaming:this.props.videoData.isLiveStream(),initial_stream_type:this.props.videoData.getStreamType(),is_facecast_audio:this.props.videoData.isFacecastAudio()},apiModule:c('VideoPlayerFlashApi'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};k.defaultProps=j;f.exports=k;}),null);
__d('VideoComponent',['CurrentUser','ErrorBoundary.react','React','Relay','SubscriptionsHandler','fromGraphQL'],(function a(b,c,d,e,f,g){'use strict';function h(j){return j.displayName||j.name||'Component';}function i(j,k){var l,m,n=k||{},o=n.observedVpcEvents||[],p=n.suppressMount||function(){return false;},q=h(j);return m=l=function(){var r,s;r=babelHelpers.inherits(t,c('React').Component);s=r&&r.prototype;function t(u){'use strict';s.constructor.call(this,u);this.$VideoComponentContainer7=function(){if(this.$VideoComponentContainer2&&this.$VideoComponentContainer2.length&&this.refs.component){var v={time:Date.now(),queuedEvents:this.$VideoComponentContainer2};this.setState({vpcEventInfo:v});this.$VideoComponentContainer2=[];}}.bind(this);this.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}};this.$VideoComponentContainer2=[];}t.prototype.render=function(){'use strict';if(this.$VideoComponentContainer3())return null;return c('React').createElement(c('ErrorBoundary.react'),{onHandleError:function u(v,w){}},c('React').createElement(j,babelHelpers['extends']({ref:'component'},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user})));};t.prototype.enable=function(u){'use strict';if(this.$VideoComponentContainer3())return;this.vpc=u;this.$VideoComponentContainer1=new (c('SubscriptionsHandler'))();this.$VideoComponentContainer4(u);var v=this.refs.component;if(!v)return;if(!v.enable)throw new TypeError(q+' must implement enable(VideoPlayerController)');v.enable(u);this.$VideoComponentContainer5(u.getVideoID(),n.relayVideoConfig);};t.prototype.disable=function(){'use strict';if(this.$VideoComponentContainer3())return;var u=this.refs.component;if(!u)return;if(!u.disable)throw new TypeError(q+' must implement disable()');u.disable();this.$VideoComponentContainer1.release();};t.prototype.$VideoComponentContainer3=function(){'use strict';return p(this.props.videoData);};t.prototype.$VideoComponentContainer5=function(u,v){var w,x=this;'use strict';if(!v)return;var y=v.fragments.video,z=v.fragments.user;if(!y)throw new Error(q+' must include a \'video\' fragment');var aa=c('fromGraphQL').Query(function(ba,ca){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ba)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('Relay').QL.__frag(ca)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'Video',type:'Video'}],fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'Node'};}(u,y));c('Relay').Store.primeCache({graphQLQuery:aa},function(ba){if(ba.done){var ca=c('Relay').Store.readQuery(aa)[0];if(this.vpc&&ca&&this.refs.component&&ca.id==this.vpc.getVideoID())this.setState({video:ca});}}.bind(this));if(z)(function(){var ba=c('fromGraphQL').Query(function(ca,da){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ca)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(da)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'user',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'User'};}(c('CurrentUser').getID(),z));c('Relay').Store.primeCache({userQuery:ba},function(ca){if(ca.done){var da=c('Relay').Store.readQuery(ba)[0];if(da&&this.refs.component)this.setState({user:da});}}.bind(x));})();};t.prototype.$VideoComponentContainer4=function(u){var v,w=this;'use strict';var x=function ca(event){var da=u.addListener(event,function(){return this.$VideoComponentContainer6(event);}.bind(w));w.$VideoComponentContainer1.addSubscriptions(da);};for(var y=o,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var event=ba;x(event);}};t.prototype.$VideoComponentContainer6=function(event){'use strict';if(!this.$VideoComponentContainer2.length)setTimeout(this.$VideoComponentContainer7,0);this.$VideoComponentContainer2.push(event);};return t;}(),l.displayName='VideoComponent('+q+')',m;}f.exports={createContainer:i};}),null);
__d('VideoComponentClickPlayPause.react',['React','VideoComponent','VideoWithClickPlayPause'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){new (c('VideoWithClickPlayPause'))(k);};j.prototype.disable=function(){};j.prototype.shouldComponentUpdate=function(){return false;};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}f.exports=c('VideoComponent').createContainer(j);}),null);
__d('VideoResizeMode',[],(function a(b,c,d,e,f,g){'use strict';f.exports={FIT:'FIT',COVER_HEIGHT:'COVER_HEIGHT'};}),null);
__d('VideoPlayer.react',['cx','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Map','Pleasantville.react','React','ReactDOM','Silvercity.react','VideoAutoplayGatingResult','VideoComponentClickPlayPause.react','VideoPlayerController','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoRenderingUtils','VideoResizeMode'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={subOrigin:c('VideoPlayerLoggerSource').MISC,showCaptionsDefault:false,onVideoClick:function m(){},autoplay:false,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN,autoplaySetting:'autoplay_setting_www',forceHD:false,startMuted:false,isUnmountScheduled:false,videoResizeMode:c('VideoResizeMode').FIT,allowCrossPageTransition:false,disableClickPlayPause:false};i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$VideoPlayer4=function(){if(!this.vpcCleanedup){this.vpc.pause(c('VideoPlayerReason').UNLOADED);this.vpc.destroy({disableStillFrame:true});this.vpcCleanedup=true;}}.bind(this);this.$VideoPlayer7=function(n,o){var p=babelHelpers['extends']({},this.props,{videoID:this.props.videoData.getVideoID(),ref:this.$VideoPlayer8.bind(this,o.toString())});return c('React').createElement(c('FBOverlayElement.react'),{key:o},c('React').cloneElement(n,p));}.bind(this);this.componentRefs=new (c('Map'))();}l.prototype.componentDidMount=function(){this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);};l.prototype.componentDidUpdate=function(m){if(this.$VideoPlayer2(m)){this.$VideoPlayer3(this.vpc);this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);}if(m.isUnmountScheduled!==this.props.isUnmountScheduled&&this.props.isUnmountScheduled)this.vpc.runOnceOnApiEventLogged(c('VideoPlayerLoggerEvent').STARTED_PLAYING,function(){setTimeout(this.$VideoPlayer4,0);return;}.bind(this));};l.prototype.componentWillUnmount=function(){this.$VideoPlayer3(this.vpc);};l.prototype.$VideoPlayer5=function(){var m=[];if(!this.props.disableClickPlayPause)m.push(c('React').createElement(c('VideoComponentClickPlayPause.react'),null));return m;};l.prototype.$VideoPlayer3=function(m){if(m){for(var n=this.componentRefs.values(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;r.disable();}m.runOnApiReady(this.$VideoPlayer4);}};l.prototype.$VideoPlayer2=function(m){return m.videoData.getVideoID()!==this.props.videoData.getVideoID();};l.prototype.$VideoPlayer1=function(m,n){var o=m.apiConfig,p=m.apiModule,q=m.videoElement;this.vpcCleanedup=false;o.videoData=[n.getRawData()];o.startTimestamp=this.props.startTimestamp;var r=new (c('VideoPlayerController'))({source:this.props.subOrigin,playerOrigin:this.props.playerOrigin||null,autoplay_reason:this.props.autoplayReason,autoplay_setting:this.props.autoplaySetting,apiModule:p,apiConfig:o,should_autoplay:!this.props.isUnmountScheduled&&this.props.autoplay,player_version:this.props.videoData.getPlayerVersionOverwrite(),video_ids:[n.getVideoID()],allowCrossPageTransition:this.props.allowCrossPageTransition,isReactPlayer:true},{root_element:c('ReactDOM').findDOMNode(this.refs.root),container_element:c('ReactDOM').findDOMNode(this.refs.container),video_element:c('ReactDOM').findDOMNode(q)});for(var s=this.componentRefs.values(),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;w.enable(r);}r.addListener('clickVideo',this.props.onVideoClick);return r;};l.prototype.$VideoPlayer6=function(){if(this.props.videoResizeMode==c('VideoResizeMode').COVER_HEIGHT){return "_ox1 _41l4";}else if(this.props.offsetType=='horizontal'){return "_ox1 _blh";}else if(this.props.offsetType=='vertical'){return "_ox1 _bli";}else return "_ox1";};l.prototype.render=function(){var m=this.props,n=m.width,o=m.height,p=m.videoData,q=m.startMuted,r=babelHelpers.objectWithoutProperties(m,['width','height','videoData','startMuted']),s=c('VideoRenderingUtils').shouldFallbackToFlash(p),t=this.$VideoPlayer6(),u=n!==undefined||o!==undefined;if(u){if(o)n=n||o*p.getAspectRatio();if(n)o=o||n/p.getAspectRatio();}var v=s?c('React').createElement(c('Silvercity.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n||0,height:o||0,showSubtitles:this.props.showCaptionsDefault,className:t,startMuted:q,defaultHD:this.props.forceHD},r)):c('React').createElement(c('Pleasantville.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n,height:o,showSubtitles:this.props.showCaptionsDefault,className:t,startMuted:q},r)),w=!u?{width:'100%',height:'100%'}:{},x=u?{width:(n||0)+'px',height:(o||0)+'px'}:{width:'100%',height:'100%'};return c('React').createElement('div',{ref:'root',className:"_1c_u",style:w},c('React').createElement(c('FBOverlayContainer.react'),{ref:'container',className:"_53j5",style:x},c('React').createElement(c('FBOverlayBase.react'),null,v),c('React').Children.toArray(this.$VideoPlayer5().concat(this.props.children)).filter(function(y){return y!=null;}).map(this.$VideoPlayer7)));};l.prototype.$VideoPlayer8=function(m,n){if(!n){this.componentRefs['delete'](m);}else this.componentRefs.set(m,n);};l.defaultProps=k;f.exports=l;}),null);
__d('VideoDataContainer.react',['cx','invariant','regeneratorRuntime','React','VideoDashPrefetchCache','VideoData','VideoPlayer.react','VideoPlayerMetaData','VideoPushParametersHelper'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.renderSpinner=function(m,n){return c('React').createElement('div',{className:"_53j5",style:{height:n,width:m}},c('React').createElement('i',{className:"_5l7x"}));};function l(m){k.constructor.call(this,m);this.$VideoDataContainer1=false;this.state={videoData:null,isLoading:true,errorData:null};}l.prototype.componentDidMount=function(){this.$VideoDataContainer2(this.props.videoID);this.$VideoDataContainer1=true;};l.prototype.componentWillReceiveProps=function(m){if(m.videoID!==this.props.videoID)this.$VideoDataContainer2(m.videoID);};l.prototype.componentWillUnmount=function(){this.$VideoDataContainer1=false;};l.prototype.componentDidUpdate=function(m,n){if(n.videoData!==this.state.videoData){var o=this.props.onVideoLoaded||function(){};o();}};l.prototype.$VideoDataContainer2=function m(n){var o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:this.setState({isLoading:true,errorData:null});q.prev=1;q.next=4;return c('regeneratorRuntime').awrap(c('VideoPlayerMetaData').genVideoData(n));case 4:o=q.sent;if(!this.props.isUnmountScheduled){q.next=7;break;}return q.abrupt('return');case 7:if(!this.props.renderAfterMpdFetch){q.next=10;break;}q.next=10;return c('regeneratorRuntime').awrap(this.$VideoDataContainer3(o));case 10:this.$VideoDataContainer1&&this.setState({videoData:o,isLoading:false});q.next=16;break;case 13:q.prev=13;q.t0=q['catch'](1);this.$VideoDataContainer1&&this.setState({errorData:q.t0});case 16:case 'end':return q.stop();}},null,this,[[1,13]]);};l.prototype.$VideoDataContainer3=function m(n){var o,p;return c('regeneratorRuntime').async(function q(r){while(1)switch(r.prev=r.next){case 0:o=n.getLiveManifestUrl();o||i(0);p=c('VideoDashPrefetchCache').getInstance();r.next=5;return c('regeneratorRuntime').awrap(p.genPrfetchMpdNow(n.getVideoID(),o,new (c('VideoPushParametersHelper'))(o).setStreamEndOffset(c('VideoPushParametersHelper').getDefaultLiveStreamEndOffset())));case 5:return r.abrupt('return',null);case 6:case 'end':return r.stop();}},null,this);};l.prototype.render=function(){var m=this.state,n=m.isLoading,o=m.videoData,p=m.errorData;if(p){var q=this.props.renderError||function(){return null;};return q(p);}var r=this.props.renderLoading;if(n&&r)return r();if(!o||o===l.VIDEO_DATA_PLACEHOLDER)return null;var s=this.props.children;s!=null&&s.type===c('VideoPlayer.react')||i(0);return c('React').cloneElement(s,{videoData:o});};l.VIDEO_DATA_PLACEHOLDER=new (c('VideoData'))();f.exports=l;}),null);
__d('SphericalVideoFallback',['cx','CSS','VideoPlayerFallbackEvents','VideoPlayerLoggerEvent','VideoPlayerStates'],(function a(b,c,d,e,f,g,h){var i={setup:function j(k,l){var m,n=l.fallbackUriList,o=l.fallbackType,p=function q(){k.emit(c('VideoPlayerFallbackEvents').ENTER);var r=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').PLAYING)){k.logEvent(c('VideoPlayerLoggerEvent').SPHERICAL_FALLBACK_ENTERED,{spherical_fallback_type:o});r.remove();}});k.setFallbackSources(n);c('CSS').removeClass(k.getRootNode(),"_3-n5");k.reset();k.emit(c('VideoPlayerFallbackEvents').RECOVER);};if(k.isState(c('VideoPlayerStates').FALLBACK)){p();}else (function(){var q=k.addListener('stateChange',function(){if(k.isState(c('VideoPlayerStates').FALLBACK)){p();q.remove();}});})();}};f.exports=i;}),null);
__d('VideoErrorOverlay',['SphericalVideoFallback'],(function a(b,c,d,e,f,g){function h(k,l){if('textContent' in k)k.textContent=l;k.innerText=l;}function i(k){if('textContent' in k)return k.textContent;if(!k.innerText)return '';return k.innerText;}function j(k,l,m,n,o){'use strict';this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption('VideoErrorOverlay','title',function(){return this.getTitle();}.bind(this),function(p){return this.setTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','message',function(){return this.getMessage();}.bind(this),function(p){return this.setMessage(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkURL',function(){return this.getLinkURL();}.bind(this),function(p){return this.setLinkURL(p);}.bind(this));k.registerOption('VideoErrorOverlay','linkTitle',function(){return this.getLinkTitle();}.bind(this),function(p){return this.setLinkTitle(p);}.bind(this));k.registerOption('VideoErrorOverlay','available',function(){return true;});if(o)c('SphericalVideoFallback').setup(k,o);}j.prototype.getTitle=function(){'use strict';return this.$VideoErrorOverlay1?i(this.$VideoErrorOverlay1):'';};j.prototype.setTitle=function(k){'use strict';if(this.$VideoErrorOverlay1)h(this.$VideoErrorOverlay1,k);};j.prototype.getMessage=function(){'use strict';return i(this.$VideoErrorOverlay2);};j.prototype.setMessage=function(k){'use strict';h(this.$VideoErrorOverlay2,k);};j.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};j.prototype.setLinkURL=function(k){'use strict';this.$VideoErrorOverlay3.href=k;};j.prototype.getLinkTitle=function(){'use strict';return i(this.$VideoErrorOverlay3);};j.prototype.setLinkTitle=function(k){'use strict';h(this.$VideoErrorOverlay3,k);};f.exports=j;}),null);
__d('VideoComponentErrorOverlay.react',['cx','fbt','Link.react','React','ReactDOM','VideoComponent','VideoErrorOverlay','VideoPlayerReactConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.enable=function(m){new (c('VideoErrorOverlay'))(m,c('ReactDOM').findDOMNode(this.refs.title),c('ReactDOM').findDOMNode(this.refs.msg),c('ReactDOM').findDOMNode(this.refs.link));};l.prototype.disable=function(){};l.prototype.render=function(){var m=c('VideoPlayerReactConfig').outdatedBrowser,n=m?i._("To watch the video, please upgrade your web browser."):null,o=c('React').createElement('div',{ref:'title',className:"_4ctr"},i._("Something Went Wrong")),p=c('React').createElement('div',{ref:'msg'},i._("Sorry, we're having trouble playing this video."),n),q=m?'/unsupportedbrowser':'https://www.facebook.com/help/396404120401278/list',r=c('React').createElement(c('Link.react'),{ref:'link',className:"_4cts",href:q},i._("Learn More"));return c('React').createElement('div',{className:"_4ctp _1jto _3htz"},c('React').createElement('div',{className:"_4ctq"},o,p,c('React').createElement('div',{className:"_5hdy"},r)));};function l(){j.apply(this,arguments);}f.exports=c('VideoComponent').createContainer(l);}),null);
__d('VideoVolumeStorage',['CacheStorage'],(function a(b,c,d,e,f,g){var h='videos_persistent_volume_';function i(j){'use strict';this.$VideoVolumeStorage3=j;this.$VideoVolumeStorage2=new (c('CacheStorage'))('localstorage',h);j.runOnApiReady(function(){return this.$VideoVolumeStorage4();}.bind(this));j.addListener('changeVolume',function(k){return this.$VideoVolumeStorage5(k.volume);}.bind(this));}i.prototype.$VideoVolumeStorage4=function(){'use strict';this.$VideoVolumeStorage1=this.$VideoVolumeStorage3.getVolume();this.$VideoVolumeStorage3.setVolume(this.$VideoVolumeStorage6());};i.prototype.$VideoVolumeStorage5=function(j){'use strict';if(this.$VideoVolumeStorage2)this.$VideoVolumeStorage2.set('volume',j,true);};i.prototype.$VideoVolumeStorage6=function(){'use strict';return this.$VideoVolumeStorage2?this.$VideoVolumeStorage2.get('volume',this.$VideoVolumeStorage1):this.$VideoVolumeStorage1;};f.exports=i;}),null);
__d('VideoComponentVolumeStorage.react',['React','VideoComponent','VideoPlayerSnowliftReactExperiments','VideoVolumeStorage'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){new (c('VideoVolumeStorage'))(k);};j.prototype.disable=function(){};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}f.exports=c('VideoComponent').createContainer(j,{suppressMount:function k(){return !c('VideoPlayerSnowliftReactExperiments').videoCanStoreVolumeLevel;}});}),null);
__d('VideoComponentWithFallbackMode.react',['React','VideoComponent','VideoWithFallbackMode'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){new (c('VideoWithFallbackMode'))(k,{fallbackTimeoutMs:this.props.fallbackTimeoutMs});};j.prototype.disable=function(){};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}j.defaultProps={fallbackTimeoutMs:10000};f.exports=c('VideoComponent').createContainer(j);}),null);
__d('VideoComponentWithLoopingPlayback.react',['React','Relay','VideoComponent','VideoPlayerReason','VideoWithLoopingPlayback'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);}j.prototype.componentWillReceiveProps=function(k){if(k.video&&k.video!==this.props.video){var l=k.video.isLooping,m=this.props.infiniteLooping?Number.POSITIVE_INFINITY:k.video.loopCount;if(l||k.forceLooping||k.infiniteLooping)new (c('VideoWithLoopingPlayback'))(this.vpc,m);}};j.prototype.enable=function(k){this.vpc=k;};j.prototype.disable=function(){};j.prototype.render=function(){return null;};f.exports=c('VideoComponent').createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return {children:[{alias:'isLooping',fieldName:'is_looping',kind:'Field',metadata:{},type:'Boolean'},{alias:'loopCount',fieldName:'loop_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentWithLoopingPlayback_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoDebugDashManifestView.react',['cx','Promise','regeneratorRuntime','React','TooltipLink.react','UserAgent','URI','VideoDebugOverlay','XHRRequest'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={streamInterruptAt:'rgba(227,26,28,0.7)',commercialBreakAt:'rgba(127,188,65,0.7)',endedAt:'rgba(0,0,0,0.7)',timelineGapAt:'rgba(255,50,50,0.7)',timelineOverlapAt:'rgba(255,255,255,0.7)'},l=10,m=10,n=2/15,o=1+2*n,p=.25;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.eventInView=function(event){return event.time<this.tMax&&event.time>=this.tMin;}.bind(this);this.rangeInView=function(s){return s.startTime<this.tMax&&s.endTime>=this.tMin-p;}.bind(this);this.renderTimeline=function(s,t){var u=['v','a'][t],v=s.map(this.renderSegment.bind(this,u)),w=o*t;return c('React').createElement('g',{key:'track-'+t,transform:'translate(0,'+w+')'},v);}.bind(this);this.renderBufferHealth=function(s,t){var u=t*o-n;return c('React').createElement('g',{key:'buffer'+t,transform:'translate(0,'+u+')'},s.filter(this.rangeInView).map(this.renderBufferRange));}.bind(this);this.renderMomentEvent=function(s,t){var u=s.type,v=s.time,w={key:t+'-'+u+'-'+v,stroke:k[u]};return c('React').createElement('line',babelHelpers['extends']({x1:v,x2:v,y1:this.yMin,y2:this.yMax},w));}.bind(this);this.getVisibleSegments=function(s){return s.filter(this.rangeInView);}.bind(this);}q.prototype.$VideoDebugDashManifestView1=function(r){var s=new (c('URI'))(r.url),t=this.props.segmentInitSourceMap.get(s.getPath());if(!t)return '';var u=t.getFailoverUri(),v=this.$VideoDebugDashManifestView2(u);return v;};q.prototype.$VideoDebugDashManifestView2=function(r){var s=new (c('URI'))(r),t=r.getStartByte(),u=r.getEndByte();if(t||u){s.addQueryData('bytestart',t);s.addQueryData('byteend',u);}return s.toString();};q.prototype.$VideoDebugDashManifestView3=function(r){return new (c('Promise'))(function(s,t){new (c('XHRRequest'))(r).setMethod('GET').setResponseType('blob').setResponseHandler(function(u,v,w){if(w)s(u);}).setErrorHandler(t).send();});};q.prototype.$VideoDebugDashManifestView4=function(r){var s=new (c('URI'))(r.url).getPath(),t=s.substring(s.lastIndexOf('/')+1);return t;};q.prototype.$VideoDebugDashManifestView5=function(r){var s={a:'audio/mp4',v:'video/mp4'};return s[r[0]];};q.prototype.$VideoDebugDashManifestView6=function r(s,t,event){var u,v,w,x,y,z,aa,ba,ca;return c('regeneratorRuntime').async(function da(ea){while(1)switch(ea.prev=ea.next){case 0:u=c('UserAgent').isPlatform('Mac OS X')?event.metaKey:event.ctrlKey;ea.next=3;return c('regeneratorRuntime').awrap(this.$VideoDebugDashManifestView7(s,t,u));case 3:v=ea.sent;w=document.createElement('a');x=window.URL.createObjectURL(v);w.href=x;y=this.$VideoDebugDashManifestView4(s);z=y.lastIndexOf('.');aa=y.substring(0,z);ba=y.substring(z);w.download=aa+'-'+t+ba;ca=this.$VideoDebugDashManifestView5(t);w.type=ca;w.click();window.URL.revokeObjectURL(x);case 16:case 'end':return ea.stop();}},null,this);};q.prototype.$VideoDebugDashManifestView7=function r(s,t,u){var v;return c('regeneratorRuntime').async(function w(x){while(1)switch(x.prev=x.next){case 0:v=[this.$VideoDebugDashManifestView2(s.url)];if(u)v.unshift(this.$VideoDebugDashManifestView1(s));return x.abrupt('return',c('Promise').all(v.map(function(y){return this.$VideoDebugDashManifestView3(y);}.bind(this))).then(function(y){return new Blob(y);}));case 3:case 'end':return x.stop();}},null,this);};q.prototype.renderSegment=function(r,s,t){var u=s.startTime,v=s.debugInfo,w=v&&v.delta>0?v.endTime:s.endTime,x=w-u,y=this.props.getSegmentClass(this.props.segmentStates,s,r),z=''+r+t;return c('React').createElement(c('TooltipLink.react'),{key:z,tooltip:'Segment '+t+' - '+r,onClick:this.$VideoDebugDashManifestView6.bind(this,s,z)},c('React').createElement('rect',{className:y,x:u,width:x,height:'1'}));};q.prototype.renderBufferRange=function(r,s){var t=r.gap,u=r.startTime,v=r.endTime,w=t?"_4yqh":"_4yqi";return c('React').createElement('line',{key:'buffer-'+s,className:w,x1:u,x2:v});};q.prototype.renderDurationEvent=function(r,s){var t=r.type,u=r.track,v=r.startTime,w=r.endTime,x=o*u,y=x+1,z=v-p,aa=v+p,ba=w+p,ca=w-p,da={d:'M'+z+' '+x+'L'+aa+' '+y+'H'+ba+'L'+ca+' '+x,key:s+'-'+t+'-'+v+'-'+w,fill:k[t],stroke:k[t]};return c('React').createElement('path',da);};q.prototype.renderMaxLength=function(r,s){if(!r)return null;return c('React').createElement(c('TooltipLink.react'),{key:'length-'+s,display:'inline',href:'#',className:"_2io3",tooltip:'Length of the largest buffered segment shown in this track'},r.toFixed(3),'s');};q.prototype.getLongestSegmentLength=function(r){return r.reduce(function(s,t){var u=t.startTime,v=t.endTime;return Math.max(s,v-u);},0);};q.prototype.computeViewBox=function(r,s){var t=this.props.segmentArrays.length;this.tMin=r-l;this.tMax=r+m;this.yMin=-2*n;this.yMax=t+2*n*s;return this.tMin+' '+this.yMin+' '+(l+m)+' '+this.yMax;};q.prototype.render=function(){var r=this.props,s=r.segmentArrays,t=r.playbackPosition;if(!s)return null;var u=this.props.getSourceBufferHealth(),v=this.computeViewBox(t,u.length),w=s.map(this.getVisibleSegments),x=w.map(this.getLongestSegmentLength),y=c('React').createElement('line',{x1:t,x2:t,y1:this.yMin,y2:this.yMax,stroke:'#000'}),z=this.props.timelineEvents.filter(this.eventInView),aa=this.props.timelineRanges.filter(this.rangeInView);for(var ba=0,ca;ca=w[ba];ba++)for(var da=ca,ea=Array.isArray(da),fa=0,da=ea?da:da[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ga;if(ea){if(fa>=da.length)break;ga=da[fa++];}else{fa=da.next();if(fa.done)break;ga=fa.value;}var ha=ga,ia=ha.debugInfo;if(ia){var ja=ia.delta,ka=void 0,la=void 0,ma=void 0;if(ja>0){ka='timelineGapAt';la=ia.endTime;ma=ia.endTime+ja;}else{ka='timelineOverlapAt';la=ia.endTime+ja;ma=ia.endTime;}aa.push({type:ka,track:ba,startTime:la,endTime:ma});}}return c('React').createElement('div',{className:"_2iob"},c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',className:"_2iof",tooltip:'The vertical line marks the current playhead position. '+'To the left of it, a '+l+'s window of past segments. '+'Afterwards, the next upcoming '+m+'s of known segments.'},'Video:',c('React').createElement('br',null),'Audio:'),c('React').createElement('div',{className:"_2iog"},x.map(this.renderMaxLength)),c('React').createElement('svg',{className:"_2ioh",viewBox:v,strokeWidth:n},w.map(this.renderTimeline),z.map(this.renderMomentEvent),aa.map(this.renderDurationEvent),y,u.map(this.renderBufferHealth)));};f.exports=q;}),null);
__d('VDOPropertyUpdater',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){function h(i,j,k){'use strict';this.parent=j;this.property=i;this.initValue=k;}h.prototype.safeValue=function(i){'use strict';return i===undefined?this.initValue:i;};h.prototype.get=function(i){'use strict';return this.parent.getProp(i||this.property);};h.prototype.replace=function(i){'use strict';this.parent.replace(this.property,this.safeValue(i));};h.prototype.update=function(i,j){'use strict';this.parent.update(this.property,i,this.safeValue(j));};return h;}();}),null);
__d('VDOIdentityHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,k,l);this.recordEvent=function(n,o){this.history[n]=this.safeValue(o);}.bind(this);this.recordProperty=this.recordEvent;this.history=[];this.initValue=m;}j.prototype.previous=function(k,l){'use strict';this.replace(this.history[l]);};j.prototype.next=function(k){'use strict';this.replace(this.history[k]);};j.prototype.last=function(){'use strict';return this.safeValue(this.history[this.history.length-1]);};return j;}();}),null);
__d('VDOSegmentArraysHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);this.indexDiffs=[];}j.prototype.recordEvent=function(k,l){'use strict';this.indexDiffs[k]=this.computeSegmentDiffToLog(l);};j.prototype.computeSegmentDiffToLog=function(k){'use strict';var l=k;if(this.segmentIndexEndTimes)l=k.map(function(m,n){var o=this.segmentIndexEndTimes[n];if(o==null)return m;var p=m.length;while(--p>=0)if(m[p].endTime<=o){p++;break;}return m.slice(p);}.bind(this));this.segmentIndexEndTimes=this.extractEndTimes(k);return l;};j.prototype.extractEndTimes=function(k){'use strict';var l=k.map(function(m){return m[m.length-1];});return l.filter(function(m){return m;}).map(function(m){var n=m.endTime;return n;});};j.prototype.previous=function(k,l){'use strict';var m=this.indexDiffs[k];if(m){var n=this.get();for(var o=0;o<m.length;o++){var p=m[o].length;if(!p)continue;var q=n[o];m[o]=q.splice(q.length-p,p);}this.updateLivehead(n);}};j.prototype.next=function(k){'use strict';var l=this.indexDiffs[k];if(l){var m=this.get();for(var n=0;n<l.length;n++){var o=m[n];o.push.apply(o,l[n]);}this.updateLivehead(m);}};j.prototype.updateLivehead=function(k){'use strict';var l=this.extractEndTimes(k);if(l.length)this.parent.replace('liveheadPosition',Math.min.apply(Math,l));};return j;}();}),null);
__d('VDOSegmentStatesHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);this.segmentStates=[];this.segmentIDs=[];}j.prototype.recordEvent=function(k,l){'use strict';var m=l[0],n=l[1];this.segmentIDs[k]=m;this.segmentStates[k]=n;};j.prototype.previous=function(k,l){'use strict';var m=this.segmentIDs[k];if(m){var n=l<0?-1:this.segmentIDs.lastIndexOf(m,l);this.update(m,n===-1?0:this.segmentStates[n]);}};j.prototype.next=function(k){'use strict';var l=this.segmentIDs[k];if(l)this.update(l,this.segmentStates[k]);};return j;}();}),null);
__d('VDOSparseHistory',['VDOPropertyUpdater'],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c('VDOPropertyUpdater'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,k,l,m);this.recordEvent=function(n,o){if(this.isUpdate(o)){this.history[n]=o;this.mostRecent=o;}}.bind(this);this.recordProperty=this.recordEvent;this.getAllUntil=function(n){var o=[];for(var p in this.history)if(Number(p)<=n)o.push(this.history[p]);return o;}.bind(this);this.history={};this.initValue=m;this.mostRecent=undefined;}j.prototype.isUpdate=function(k){'use strict';return this.mostRecent!==k;};j.prototype.previous=function(k,l){'use strict';var m=-1;for(var n in this.history){if(Number(n)>l)break;m=Number(n);}if(m>=0)this.replace(this.history[m]);};j.prototype.next=function(k){'use strict';if(k in this.history)this.replace(this.history[k]);};return j;}();}),null);
__d('VDOSourceBufferHealthHistory',['VDOSparseHistory'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=function k(l){if(l==null||typeof l!=='object')return l;if(Array.isArray(l))return l.map(k);var m={};for(var n in l)m[n]=k(l[n]);return m;};f.exports=(i=h=function(){var k,l;k=babelHelpers.inherits(m,c('VDOSparseHistory'));l=k&&k.prototype;function m(n,o,p){'use strict';l.constructor.call(this,n,o,p);this.recordEvent=function(q,r){var s,t=this,u=r(),v=this.isUpdate(u);window.updates=!!v+(window.updates||0);if(v)(function(){var w=j(u);t.history[q]=function(){return w;};t.mostRecent=w;})();}.bind(this);this.recordProperty=this.recordEvent;}m.prototype.isUpdate=function(n){'use strict';var o=this.mostRecent;if(n&&!o)return true;if(n.length!==this.mostRecent.length)return true;for(var p=0;p<n.length;p++){var q=n[p],r=o[p];if(!!q!==!!r)return true;var s=q.length;if(s!==r.length)return true;if(!s)continue;var t=q[s-1].endTime,u=r[s-1].endTime;if(t!==u)return true;}return false;};return m;}(),h.deepClone=j,i);}),null);
__d('VideoDebugHistory',['VDOIdentityHistory','VDOSegmentStatesHistory','VDOSegmentArraysHistory','VDOSourceBufferHealthHistory','VDOSparseHistory'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){if(typeof j==='function'){j=j();return function(){return j;};}if(j==null||typeof j!=='object')return j;if(Array.isArray(j))return j.slice();return Object.assign({},j);};f.exports=function(){function i(j){'use strict';this.frozenProps={};this.$VideoDebugHistory1=j;this.history=[];this.offset=Infinity;this.reconstructors={lastError:new (c('VDOIdentityHistory'))('lastError',this),stallTime:new (c('VDOSparseHistory'))('stallTime',this,0),playerState:new (c('VDOIdentityHistory'))('playerState',this,'loading'),playbackPosition:new (c('VDOIdentityHistory'))('playbackPosition',this,0),lastMpdFetchDuration:new (c('VDOSparseHistory'))('lastMpdFetchDuration',this),mpdUpdatePollCount:new (c('VDOSparseHistory'))('mpdUpdatePollCount',this),segmentStates:new (c('VDOSegmentStatesHistory'))('segmentStates',this),segmentArrays:new (c('VDOSegmentArraysHistory'))('segmentArrays',this),getSourceBufferHealth:new (c('VDOSourceBufferHealthHistory'))('getSourceBufferHealth',this),lastLogEvent:new (c('VDOSparseHistory'))('lastLogEvent',this)};}i.prototype.freezeProps=function(){'use strict';this.offset=this.history.length;var j=this.$VideoDebugHistory1();for(var k in j)j[k]=h(j[k]);this.frozenProps=j;return this.offset;};i.prototype.record=function(event,j,k){'use strict';var l=this.history.length;this.history.push(k);for(var m in this.reconstructors){var n=this.reconstructors[m],o=event[m],p=j[m];if(o!==undefined&&'recordEvent' in n){n.recordEvent(l,o,j);}else if(p!==undefined&&'recordProperty' in n)n.recordProperty(l,p,j);}};i.prototype.getProps=function(){'use strict';return Object.assign(this.frozenProps,{atHistoryEntry:this.offset,historyLength:this.history.length});};i.prototype.prev=function(){'use strict';var j=Math.min(this.offset,this.history.length),k=j-1;if(k<0)return -Infinity;for(var l in this.reconstructors){var m=this.reconstructors[l];m.previous(j,k);}this.frozenProps.historyEventType=this.history[k];return this.offset=k;};i.prototype.next=function(){'use strict';var j=Math.min(this.offset,this.history.length),k=j+1;if(k>this.history.length)return Infinity;for(var l in this.reconstructors){var m=this.reconstructors[l];m.next(k);}this.frozenProps.historyEventType=this.history[k];return this.offset=k;};i.prototype["goto"]=function(j){'use strict';var k=this.reconstructors.playbackPosition.last(),l=j>k,m=0;while(this.frozenProps.playbackPosition>j&&isFinite(m))m=this.prev();while(this.frozenProps.playbackPosition<j&&isFinite(m))m=this.next();this.frozenProps.playbackPosition=Math.max(0,Math.min(j,k));return l?Infinity:m;};i.prototype.getProp=function(j){'use strict';return this.frozenProps[j];};i.prototype.replace=function(j,k){'use strict';this.frozenProps[j]=k;};i.prototype.update=function(j,k,l){'use strict';this.frozenProps[j][k]=l;};return i;}();}),null);
__d('exposeVideoDebug',['React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j,k){var l=j.getDebug,m=j.videoID,n=j.loggedError,o=j.lastError,p=l(),q=p.VideoPlayerController,r=p.VideoDebugParent,s=p.VideoDebugOverlay,t=p.VideoBufferGaps,u=p.ComboBufferGaps,v=p.AudioBufferGaps,w=r.getProps(),x=w.segmentArrays,y=x||[],z=y[0],aa=y[1],ba=q.getVideoAPI(),ca=ba.getDOMElement(),da=ba.getDebug(),ea=da.VideoPlayerHTML5Shaka,fa={},ga={};if(ea){fa=ea.getDebug();var ha=fa,ia=ha.ShakaPlayer;if(ia){ga=ia.getDebug();!ga.identifiersIntact;}}var ja={vid:'videoID',vel:'VideoElement',mpd:'getManifest',abr:'AbrManager',bwe:'BandwidthEstimator',src:'VideoSource',vss:'VideoSourceStream',vsi:'VideoSegmentIndex',vbm:'VideoBufferManager',vsb:'VideoSourceBuffer',vbg:'VideoBufferGaps',cbg:'ComboBufferGaps',ass:'AudioSourceStream',asi:'AudioSegmentIndex',abm:'AudioBufferManager',asb:'AudioSourceBuffer',abg:'AudioBufferGaps',tss:'TextSourceStream',sha:'ShakaPlayer',h5s:'VideoPlayerHTML5Shaka',h5a:'VideoPlayerHTML5Api',vpc:'VideoPlayerController',vdp:'VideoDebugParent',vdo:'VideoDebugOverlay',lpe:'LoggedPlayerError',err:'PlayerError'},ka=babelHelpers['extends']({videoID:m,VideoElement:ca,VideoBufferGaps:t,ComboBufferGaps:u,AudioBufferGaps:v,VideoSegmentIndex:z,AudioSegmentIndex:aa},fa,ga,{VideoPlayerHTML5Shaka:ea,VideoPlayerHTML5Api:ba,VideoPlayerController:q,VideoDebugParent:r,VideoDebugOverlay:s,LoggedPlayerError:n,PlayerError:o,ns:function la(){var ma=arguments.length<=0||arguments[0]===undefined?window:arguments[0];console.group('videoDebug [videoID '+m+']');for(var na in ja){var oa=ja[na],pa=ka[oa];if(pa!==undefined){ma[na]=pa;window.console.log(na+' = '+oa);}}console.groupEnd();return ka;}});window.videoDebug=ka;if(k)ka.ns();};f.exports=h;}),null);
__d('VideoDebugOverlay',['cx','CSS','KeyboardShortcuts','Map','React','ReactDOM','SubscriptionsHandler','URI','VideoDebugHistory','VideoDebugOverlay.react','VideoPlayerReason','cancelAnimationFrame','clearTimeout','exposeVideoDebug','getActiveElement','requestAnimationFrame','setTimeout'],(function a(b,c,d,e,f,g,h){var i=0,j=1,k=2,l=['SegmentUnknown','SegmentFetching','SegmentFetched','SegmentFailed','SegmentAppended'],m=["_2io2","_19ur","_19us","_19ut","_37la"];function n(o,p,q){'use strict';this.inFocusAndAltKey=function(r,s){if(!r.altKey||s!=='onkeydown'||r.ctrlKey||r.metaKey)return false;var t=this.$VideoDebugOverlay2,u=c('getActiveElement')();return u.contains(t)||t.contains(u);}.bind(this);this.toggleMute=function(event){var r=this.$VideoDebugOverlay13;if(r.isMuted()){r.unmute();}else r.mute();}.bind(this);this.togglePause=function(event){var r=this.$VideoDebugOverlay13;if(r.isState('playing')){r.pause(c('VideoPlayerReason').USER);}else r.play(c('VideoPlayerReason').USER);}.bind(this);this.onExpose=function(event){c('exposeVideoDebug')(this.getProps(),!!event.shiftKey);}.bind(this);this.onFreeze=function(event){if(this.$VideoDebugOverlay9){return this.resume();}else return this.freeze();}.bind(this);this.onHistoryRew=function(event){if(event.shiftKey)return this["goto"](-Infinity);return this.prev();}.bind(this);this.onHistoryFwd=function(event){if(event.shiftKey){this["goto"](Infinity);return this.resume();}return this.next();}.bind(this);this.onLivePoll=function(){if(this.$VideoDebugOverlay18)c('clearTimeout')(this.$VideoDebugOverlay18);this.$VideoDebugOverlay18=c('setTimeout')(function(){this.$VideoDebugOverlay18=null;}.bind(this),1000);}.bind(this);this.onShakaDebug=function(r){var s=r.type,event=r.event,t=null;switch(s){case 'MPDFetchDuration':var u=event;this.$VideoDebugOverlay5.lastMpdFetchDuration=u;t={lastMpdFetchDuration:u};break;case 'InitialSegmentIndexes':t=this.onSegmentIndexes(event,true);break;case 'SegmentIndexesUpdated':t=this.onSegmentIndexes(event,false);break;case 'SegmentInitSources':this.onSegmentInitSources(event);break;case 'SegmentFetching':case 'SegmentFetched':case 'SegmentFailed':case 'SegmentAppended':t=this.onSegmentEvent(s,event);break;case 'streamInterruptAt':case 'commercialBreakAt':case 'endedAt':this.addTimelineMark(s,event);break;case 'streamResumedAt':this.removeTimelineMark('streamInterruptAt',event);break;default:return;}if(t)this.record(s,t);}.bind(this);this.onVpcLogEvent=function(event){this.$VideoDebugOverlay5.lastLogEvent=event;this.$VideoDebugOverlay5.getLogEventsUntil=this.$VideoDebugOverlay4.reconstructors.lastLogEvent.getAllUntil;this.record(event.event,{lastLogEvent:event});}.bind(this);this.getSourceBufferHealth=function(){this.$VideoDebugOverlay10[j]=this.$VideoDebugOverlay13.getVideoNode();return this.$VideoDebugOverlay10.map(this.$VideoDebugOverlay19);}.bind(this);this.$VideoDebugOverlay19=function(r,s){var t=[];if(!r)return t;var u=void 0,v=void 0;try{u=r.buffered;v=u.length;}catch(z){return t;}for(var w=0;w<v;w++)t.push({gap:false,startTime:u.start(w),endTime:u.end(w)});for(var x=1;x<v;x++){var y={gap:true,startTime:t[x-1].endTime,endTime:t[x].startTime};t.push(y);this.$VideoDebugOverlay11[s][y.startTime]=y;}return t;}.bind(this);this.toggleHidden=function(){return this.setHidden(!this.getHidden());}.bind(this);this.getHidden=function(){return this.$VideoDebugOverlay20;}.bind(this);this.setHidden=function(r){this.$VideoDebugOverlay20=r;if(this.$VideoDebugOverlay20){this.stopAnimating();}else this.startAnimating();c('CSS').conditionClass(this.$VideoDebugOverlay2,'hidden_elem',this.$VideoDebugOverlay20);}.bind(this);this.getDebug=function(){return {VideoPlayerController:this.$VideoDebugOverlay13,VideoDebugOverlay:this.vdo,VideoDebugParent:this,VideoBufferGaps:this.$VideoDebugOverlay11[i],ComboBufferGaps:this.$VideoDebugOverlay11[j],AudioBufferGaps:this.$VideoDebugOverlay11[k]};}.bind(this);this.getProps=function(){var r=this.$VideoDebugOverlay13;if(!r)return null;var s=r.getVideoResolution(),t=s.height,u=s.width,v=r.getDebugInfo(),w=v.currentVideo,x=v.player;return Object.assign({},this.$VideoDebugOverlay5,{videoID:r.getVideoID(),playbackPosition:r.getCurrentTimePosition(),playbackDuration:r.getPlaybackDuration(),isSpherical:r.isSpherical(),streamType:w.streamType,projection:w.projection,isLiveStream:w.isLiveStream,isHD:w.isHD,hasHD:w.hasHD,tagSD:w.tagSD,tagHD:w.tagHD,hasSubtitles:w.hasSubtitles,isRateLimited:w.isRateLimited,hasRateLimit:w.hasRateLimit,liveManifestUrl:w.liveManifestUrl,streamId:w.streamId,videoHeight:t,videoWidth:u,hasSpatialAudio:r.getOption('SphericalVideoSpatialAudioController','hasSpatialAudio'),initializationTime:x.initializationTime,initializationTimestamp:x.initializationTimestamp,playerVersion:x.version,stallCount:x.stallCount,stallTime:x.stallTime,interruptCount:x.interruptCount,interruptTime:x.interruptTime,loggedError:x.loggedError,lastError:x.lastError,droppedFrames:x.droppedFrames,totalFrames:x.totalFrames,getDebug:this.getDebug,playerState:this.$VideoDebugOverlay17(),isPolling:!!this.$VideoDebugOverlay18,getSegmentClass:n.getSegmentClass});}.bind(this);this.$VideoDebugOverlay21=function(r){this.vdo=r;}.bind(this);this.$VideoDebugOverlay2=o;this.$VideoDebugOverlay3=p;this.$VideoDebugOverlay4=new (c('VideoDebugHistory'))(this.getProps);this.$VideoDebugOverlay5=this.$VideoDebugOverlay6();this.$VideoDebugOverlay7();this.$VideoDebugOverlay8=null;this.$VideoDebugOverlay9=false;this.setHidden(q.hidden);this.$VideoDebugOverlay1=q.timeBetweenRender;}n.prototype.$VideoDebugOverlay7=function(){'use strict';this.$VideoDebugOverlay10=[null,null,null];this.$VideoDebugOverlay11=[{},{},{}];};n.prototype.$VideoDebugOverlay6=function(){'use strict';var o=this.$VideoDebugOverlay3,p=o.autoplayReason,q=o.autoplayReasonReadable;return {autoplayReason:p,autoplayReasonReadable:q,lastMpdFetchDuration:null,prevMpdChangesTime:null,lastMpdChangesTime:Date.now(),mpdUpdatePollCount:0,segmentStates:{},segmentInitSourceMap:null,timelineEvents:[],timelineRanges:[],getSourceBufferHealth:this.getSourceBufferHealth,getLogEventsUntil:function r(){return [];},yaw:0,pitch:0};};n.prototype.disable=function(){'use strict';this.setHidden(true);this.$VideoDebugOverlay12.release();this.$VideoDebugOverlay13.unregisterOption('DebugOverlay','hidden');};n.prototype.enable=function(o){var p;'use strict';this.$VideoDebugOverlay13=o;this.$VideoDebugOverlay12=new (c('SubscriptionsHandler'))();(p=this.$VideoDebugOverlay12).addSubscriptions.apply(p,[o.addListener('VideoWithLiveBroadcast/poll',this.onLivePoll),o.addListener('debug/shakaEvent',this.onShakaDebug),o.addListener('debug/vpcLogEvent',this.onVpcLogEvent),o.addListener('streamInterrupted',function(){this.$VideoDebugOverlay14('interrupted');}.bind(this)),o.addListener('streamResumed',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('buffering',function(){this.$VideoDebugOverlay14('buffering');}.bind(this)),o.addListener('buffered',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('abortedLoading',function(){this.$VideoDebugOverlay14('aborted');}.bind(this)),o.addListener('restoringAfterAbort',function(){this.$VideoDebugOverlay14('restoring');this.$VideoDebugOverlay5=this.$VideoDebugOverlay6();this.$VideoDebugOverlay7();}.bind(this)),o.addListener('restoredAfterAbort',function(){this.$VideoDebugOverlay14(null);}.bind(this)),o.addListener('bufferingChanged',function(){var q=o.getDebugInfo(),r=q.player,event={stallTime:r.stallTime},s={playbackPosition:o.getCurrentTimePosition()};this.$VideoDebugOverlay4.record(event,s,'bufferingChanged');}.bind(this)),o.addListener('viewportChange',function(q,r){this.$VideoDebugOverlay5.yaw=q;this.$VideoDebugOverlay5.pitch=r;}.bind(this))].concat(this.registerKeys({d:this.toggleHidden,e:this.onExpose,f:this.onFreeze,m:this.toggleMute,p:this.togglePause,LEFT:this.onHistoryRew,RIGHT:this.onHistoryFwd})));o.registerOption('DebugOverlay','hidden',this.getHidden,this.setHidden);if(this.$VideoDebugOverlay15(o.getVideoID()))this.setHidden(false);};n.prototype.registerKeys=function(o){'use strict';var p=[],q={baseFilters:[this.inFocusAndAltKey],allowDefault:true};for(var r in o)p.push(c('KeyboardShortcuts').register(r,o[r],q));return p;};n.prototype.$VideoDebugOverlay15=function(o){'use strict';var p=c('URI').getRequestURI().getQueryData(),q=p.vid;switch(q){case undefined:return false;case null:return true;default:return q.split(/\D+/g).indexOf(o)!==-1;}};n.prototype.$VideoDebugOverlay14=function(o){'use strict';this.$VideoDebugOverlay16=o;};n.prototype.$VideoDebugOverlay17=function(){'use strict';var o=this.$VideoDebugOverlay13.getState();if(this.$VideoDebugOverlay16)o+=' ('+this.$VideoDebugOverlay16+')';return o;};n.prototype.addTimelineMark=function(o,p){'use strict';var event={type:o,time:p};this.removeTimelineMark(event);var q=this.$VideoDebugOverlay5.timelineEvents;q.push(event);return p;};n.prototype.removeTimelineMark=function(o,p){'use strict';var q=this.$VideoDebugOverlay5.timelineEvents;for(var r=0;r<q.length;r++){var event=q[r];if(event.type===o&&event.time===p){q.splice(r,1);return true;}}return false;};n.prototype.record=function(o,p,q){'use strict';var r=this.$VideoDebugOverlay13;q=q||{};p=p||{};this.$VideoDebugOverlay4.record(p,Object.assign(q,this.$VideoDebugOverlay5,{playerState:this.$VideoDebugOverlay17(),playbackPosition:r.getCurrentTimePosition(),getSourceBufferHealth:this.getSourceBufferHealth}),o);};n.getSegmentId=function(o,p){'use strict';return p+o.startTime;};n.getSegmentClass=function(o,p,q){'use strict';var r=n.getSegmentId(p,q);return m[o[r]||0];};n.prototype.onSegmentEvent=function(o,event){'use strict';var p=event.type,q=event.segment,r=event.sourceBuffer,s=n.getSegmentId(q,p),t=l.indexOf(o);this.$VideoDebugOverlay5.segmentStates[s]=t;switch(p){case 'v':this.$VideoDebugOverlay10[i]=r;break;case 'a':this.$VideoDebugOverlay10[k]=r;break;}return {segmentStates:[s,t]};};n.prototype.onSegmentIndexes=function(o,p){'use strict';var q=p||o.some(function(v){return v.lastPollHadChanges();}),r=o.map(function(v){return v.getSegments();});if(q){var s=this.$VideoDebugOverlay5.lastMpdChangesTime;this.$VideoDebugOverlay5.prevMpdChangesTime=s;this.$VideoDebugOverlay5.lastMpdChangesTime=Date.now();this.$VideoDebugOverlay5.mpdUpdatePollCount=0;}else this.$VideoDebugOverlay5.mpdUpdatePollCount+=1;this.$VideoDebugOverlay5.segmentArrays=r;var t=r.map(function(v){return v[v.length-1];}).filter(function(v){return v;}).map(function(v){var w=v.endTime;return w;});if(t.length)this.$VideoDebugOverlay5.liveheadPosition=Math.min.apply(Math,t);var u=this.$VideoDebugOverlay5.mpdUpdatePollCount;return {segmentArrays:r,mpdUpdatePollCount:u};};n.prototype.onSegmentInitSources=function(o){'use strict';this.$VideoDebugOverlay5.segmentInitSourceMap=new (c('Map'))(o.map(function(p){var q=p.getFailoverUri(),r=new (c('URI'))(q.toString());return [r.getPath(),p];}));};n.prototype.isHidden=function(){'use strict';return this.$VideoDebugOverlay20;};n.prototype.startAnimating=function(){'use strict';if(this.$VideoDebugOverlay8)return;var o=function(){this.renderOverlay();if(this.$VideoDebugOverlay1){this.$VideoDebugOverlay8=c('setTimeout')(o,this.$VideoDebugOverlay1);}else this.$VideoDebugOverlay8=c('requestAnimationFrame')(o);}.bind(this);o();};n.prototype.stopAnimating=function(){'use strict';var o=this.$VideoDebugOverlay8;if(this.$VideoDebugOverlay8){if(this.$VideoDebugOverlay1){c('clearTimeout')(this.$VideoDebugOverlay8);}else c('cancelAnimationFrame')(this.$VideoDebugOverlay8);this.$VideoDebugOverlay8=null;}return o;};n.prototype.prev=function(){'use strict';this.freeze();this.$VideoDebugOverlay4.prev();};n.prototype.next=function(){'use strict';this.freeze();var o=this.$VideoDebugOverlay4.next();if(!isFinite(o))this.resume();};n.prototype["goto"]=function(o){'use strict';this.freeze();this.$VideoDebugOverlay4["goto"](o);};n.prototype.freeze=function(){'use strict';if(!this.$VideoDebugOverlay9){this.$VideoDebugOverlay4.freezeProps();this.$VideoDebugOverlay9=true;}};n.prototype.resume=function(){'use strict';this.$VideoDebugOverlay9=false;};n.prototype.getPropsToRender=function(){'use strict';return this.$VideoDebugOverlay9?this.$VideoDebugOverlay4.getProps():this.getProps();};n.prototype.renderOverlay=function(){'use strict';var o=!this.$VideoDebugOverlay20&&this.getPropsToRender();if(o)c('ReactDOM').render(c('React').createElement(c('VideoDebugOverlay.react'),babelHelpers['extends']({ref:this.$VideoDebugOverlay21},o)),this.$VideoDebugOverlay2);};f.exports=n;}),null);
__d('VideoDebugItem.react',['cx','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props.children,m=null;if(this.props.column==='right')m="_s5q";var n=this.props.label;if(this.props.tooltip)n=c('React').createElement(c('TooltipLink.react'),this.props,n);return c('React').createElement('div',{className:m},c('React').createElement('b',null,n),': ',l);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoDebugDashMpdLag.react',['React','VideoDebugItem.react','TooltipLink.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillReceiveProps=function(k){var l=k.mpdUpdatePollCount!==this.props.mpdUpdatePollCount;this.setState({mpdPoll:l});};j.prototype.shouldComponentUpdate=function(k,l){return l.mpdPoll;};j.prototype.$VideoDebugDashMpdLag1=function(k){return (k/1000).toFixed(3)+'s';};j.prototype.render=function(){var k=this.props,l=k.lastMpdFetchDuration,m=k.lastMpdChangesTime;if(!l)return null;var n=this.$VideoDebugDashMpdLag1(Date.now()-m),o='We saw no new segments in this number of MPD polls.\n'+(l?'Last poll with news was '+n+' ago.':'It has been '+n+' without news, since we started polling.'),p=null,q=this.props.prevMpdChangesTime;if(q){p=this.$VideoDebugDashMpdLag1(m-q);p=': '+p;}return c('React').createElement('div',null,c('React').createElement(c('VideoDebugItem.react'),{label:'MPD load time',column:'right',tooltip:'Load time of the most recent dash manifest'},l.toFixed(3),'s'),c('React').createElement(c('VideoDebugItem.react'),{label:'MPD polls',href:this.props.liveManifestUrl||null,tooltip:'Number of recent dash manifest polls without news,\n'+'and the time last poll for new segments took.'},c('React').createElement(c('TooltipLink.react'),{tooltip:o},this.props.mpdUpdatePollCount),p));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugDashRepresentation.react',['React','TooltipLink.react','VideoDebugItem.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.idToolLink=function(k){return 'https://our.intern.facebook.com/intern/id2/'+k+'/';};j.prototype.render=function(){var k=this.props.streamId;if(!k)return null;var l=k,m=k.replace(/vd?$/,'');if(/^\d+$/.test(m))l=c('React').createElement(c('TooltipLink.react'),{target:'_blank',display:'inline',tooltip:'Show VideoEncoding of the playing representation id',href:this.idToolLink(m)},l);return c('React').createElement(c('VideoDebugItem.react'),{label:'DASH Representation'},l);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugExposeVideoDebug.react',['cx','React','TooltipLink.react','exposeVideoDebug'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$VideoDebugExposeVideoDebug1=function(event){event.preventDefault();c('exposeVideoDebug')(this.props,!!event.shiftKey);}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('TooltipLink.react'),{display:'inline',className:"_5jy",style:{right:'15px'},onClick:this.$VideoDebugExposeVideoDebug1,tooltip:'Expose a videoDebug object for this video to js devtools.\n'+'(Shift-click to break out independent globals immediately.)'},'js');};f.exports=k;}),null);
__d('VideoDebugFlag.react',['cx','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props,m=l.tooltip,n=l.active,o=l.available,p="_45za",q=this.renderDot(n,o),r=this.props.label;if(m)r=c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',tooltip:m},r);return c('React').createElement('li',{className:p},c('React').createElement('b',null,r),': ',q);};k.prototype.renderDot=function(l,m){'use strict';var n={color:l?'green':m?'red':'gray'};return c('React').createElement('span',{className:"_45zb",style:n},'\u25CF');};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoDebugLogMessages.react',['cx','React','VideoDebugItem.react','VideoPlayerLoggerEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=' \uD83D\uDE1E';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderOption=function(r,s){var event=r.event;if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)event=event.toUpperCase();var t=r.logData,u=t.time_ms,v=t.recent_stalls_count,w=this.props.initializationTimestamp,x=((u-w)/1000).toFixed(3),y=v?k:null;return c('React').createElement('option',{key:s,value:s},x,'s: ',event,y);}.bind(this),this.$VideoDebugLogMessages2=function(event){var r=this.$VideoDebugLogMessages3(),s=r[Number(event.target.value)];console.group('log = %s event',s.event);console.groupEnd();}.bind(this),n;}l.prototype.shouldComponentUpdate=function(m){return this.$VideoDebugLogMessages1!==m.lastLogEvent;};l.prototype.$VideoDebugLogMessages3=function(){var m=this.props,n=m.getLogEventsUntil,o=m.atHistoryEntry,p=o==null?Infinity:o;return n(p);};l.prototype.render=function(){var m=this.$VideoDebugLogMessages3(),n=m.length-1;this.$VideoDebugLogMessages1=m[n];var o=void 0;if(m.length)o=c('React').createElement('select',{value:n,className:"_4a8p",onChange:this.$VideoDebugLogMessages2},m.map(this.renderOption));return c('React').createElement(c('VideoDebugItem.react'),{label:'Log'},o);};f.exports=l;}),null);
__d('VideoDebugScubaEventsLink.react',['CurrentUser','React','URI','TooltipLink.react','VideoDebugItem.react','formatDate'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.getScubaUrl=function(k,l,m){function n(p){var q=new Date(p);return c('formatDate')(q,'Y-m-d H:i:s',{skipPatternLocalization:true});}var o={cols:['time_ms','time_ms_begin','event_name','userid','video_id','time_ms_done','stall_time'],derivedCols:[],num_samples:'100',dimensions:['event_name'],startcol:'time_ms_begin',endcol:'time_ms_done',colorcol:'event_name',bordercol:'event_name',ordercol:'time_ms_begin',labelcol:'__number',unit:'Auto',aggregate:'',start:n(m-5000),end:'now',modifiers:[],aggregateList:[],constraints:{userid:{eq:['["'+k+'"]']},video_id:{eq:['["'+l+'"]']}},c_constraints:{},b_constraints:{}};return new (c('URI'))('https://our.intern.facebook.com/intern/scuba/query/').setQueryData({dataset:'video_player_log',view:'TimelineBreakdown',drillstate:JSON.stringify(o)}).toString();};j.prototype.shouldComponentUpdate=function(k){var l=this.props.atHistoryEntry!==null;if(l)return k.atHistoryEntry!==this.props.atHistoryEntry||k.historyLength!==this.props.historyLength;return !!k.atHistoryEntry;};j.prototype.render=function(){var k=this.props.videoID,l=null;if(this.props.isLiveStream){var m=c('React').createElement(c('TooltipLink.react'),{display:'inline',href:new (c('URI'))('https://our.intern.facebook.com/intern/facecast/debug/').setQueryData({video_broadcast_id:k}).toString(),tooltip:'Debug in Facecast'},'FC');l=c('React').createElement('span',null,' [',m,']');}var n=this.props.initializationTimestamp,o={href:this.getScubaUrl(c('CurrentUser').getID(),k,n),tooltip:'Show scuba video_player_log events timeline for this video',target:'_blank',label:'Video'},p=null,q=this.props,r=q.atHistoryEntry,s=q.historyLength;if(r!=null)p=c('React').createElement('span',null,c('React').createElement('b',null,' frozen at'),' ',r,'/',s);return c('React').createElement(c('VideoDebugItem.react'),o,k,l,p);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoDebugOverlay.react',['cx','React','TooltipLink.react','VideoDebugDashRepresentation.react','VideoDebugDashManifestView.react','VideoDebugDashMpdLag.react','VideoDebugExposeVideoDebug.react','VideoDebugFlag.react','VideoDebugItem.react','VideoDebugLogMessages.react','VideoDebugScubaEventsLink.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.$VideoDebugOverlay1=function(l){'use strict';return Number(l||0).toFixed(3)+'s';};k.prototype.$VideoDebugOverlay2=function(l,m){'use strict';return Math.floor(l)+' / '+Math.floor(m);};k.prototype.render=function(){'use strict';var l=null;if(this.props.streamType==='dash'){l=c('React').createElement(c('VideoDebugDashRepresentation.react'),{streamId:this.props.streamId});}else{var m=this.props,n=m.tagSD,o=m.tagHD;if(o){l=n+' (SD) / '+o+' (HD)';}else l=n+' (SD)';l=c('React').createElement(c('VideoDebugItem.react'),{label:'Encoding'},l);}var p=!!this.props.segmentArrays,q='The current time of the video.';if(p)q+=' (The black bar in the graph.)';var r=null,s=this.props,t=s.liveheadPosition,u=s.playbackPosition;if(t&&this.props.isLiveStream){var v=this.$VideoDebugOverlay1(t-u);r=c('React').createElement(c('VideoDebugItem.react'),{label:'Livehead \u0394',column:'right',tooltip:'How much ahead of the playhead the current livehead is. '+'In the graph below, that amounts to the time between the '+'playhead (the black bar) and the end of the final segment.'},v);}else r=c('React').createElement(c('VideoDebugItem.react'),{label:'Duration',column:'right'},this.$VideoDebugOverlay1(this.props.playbackDuration));var w=null;if(this.props.isLiveStream&&this.props.streamType=='dash')w=c('React').createElement(c('VideoDebugDashMpdLag.react'),{liveManifestUrl:this.props.liveManifestUrl,lastMpdFetchDuration:this.props.lastMpdFetchDuration,mpdUpdatePollCount:this.props.mpdUpdatePollCount,prevMpdChangesTime:this.props.prevMpdChangesTime,lastMpdChangesTime:this.props.lastMpdChangesTime});var x=this.props.lastError;if(x){var y=x,z=y.error,aa=y.message;x=c('React').createElement(c('VideoDebugItem.react'),{label:'Error'},z,': ',aa);}var ba=this.props,ca=ba.atHistoryEntry,da=ba.historyEventType,ea=ca!=null?"isFrozen":null,fa=null;if(da){fa=c('React').createElement(c('VideoDebugItem.react'),{label:'History event'},da);}else fa=c('React').createElement(c('VideoDebugItem.react'),{label:'Autoplay reason'},c('React').createElement(c('TooltipLink.react'),{display:'inline',href:'#',tooltip:this.props.autoplayReasonReadable},this.props.autoplayReason));var ga=c('React').createElement(c('VideoDebugItem.react'),{label:'Projection'},this.props.projection);if(this.props.isSpherical)ga=c('React').createElement('div',null,c('React').createElement(c('VideoDebugItem.react'),{label:'Yaw / Pitch',tooltip:'The yaw / pitch orientation of the video'},this.$VideoDebugOverlay2(this.props.yaw,this.props.pitch)),ga);return c('React').createElement('div',{className:ea},c('React').createElement(c('TooltipLink.react'),{target:'_blank',display:'inline',className:"_5jy",href:'https://our.intern.facebook.com/intern/dex/video-debug-overlay/',tooltip:'See the DEX about how to read this overlay'},'?'),c('React').createElement(c('VideoDebugExposeVideoDebug.react'),{videoID:this.props.videoID,getDebug:this.props.getDebug,VideoDebugOverlay:this,loggedError:this.props.loggedError,lastError:this.props.lastError}),c('React').createElement(c('VideoDebugScubaEventsLink.react'),{videoID:this.props.videoID,initializationTimestamp:this.props.initializationTimestamp,atHistoryEntry:this.props.atHistoryEntry,historyLength:this.props.historyLength,isLiveStream:this.props.isLiveStream}),fa,c('React').createElement(c('VideoDebugLogMessages.react'),{lastLogEvent:this.props.lastLogEvent,atHistoryEntry:this.props.atHistoryEntry,getLogEventsUntil:this.props.getLogEventsUntil,initializationTimestamp:this.props.initializationTimestamp}),x,c('React').createElement(c('VideoDebugItem.react'),{label:'State',column:'right'},this.props.playerState),c('React').createElement(c('VideoDebugItem.react'),{label:'Player'},this.props.playerVersion),c('React').createElement(c('VideoDebugItem.react'),{label:'Stalls',column:'right'},this.props.stallCount,': ',this.$VideoDebugOverlay1(this.props.stallTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Init time'},this.$VideoDebugOverlay1(this.props.initializationTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Interrupts',column:'right'},this.props.interruptCount,': ',this.$VideoDebugOverlay1(this.props.interruptTime/1000)),c('React').createElement(c('VideoDebugItem.react'),{label:'Stream Type'},this.props.streamType),c('React').createElement(c('VideoDebugItem.react'),{label:'Dropped frames',column:'right'},this.props.droppedFrames),c('React').createElement(c('VideoDebugItem.react'),{label:'Total frames'},this.props.totalFrames),c('React').createElement(c('VideoDebugItem.react'),{label:'Rep. Size',column:'right',tooltip:'Resolution of the representation, as reported by the browser'},this.props.videoHeight,' x ',this.props.videoWidth),ga,l,c('React').createElement('ul',null,c('React').createElement(c('VideoDebugFlag.react'),{label:'HD',active:this.props.isHD,available:this.props.hasHD,tooltip:'High Definition. Indicates if the video '+'has an HD stream and if it is playing.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'Live',active:this.props.isLiveStream,tooltip:'Indicates if this is a Live stream.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'CVC Poller',active:this.props.isPolling,available:this.props.isLiveStream,tooltip:'Concurrent Viewer Count Poller. Indicates if a poll request '+'was sent recently. This should blink at a ~3 sec inteval.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'RL',active:this.props.isRateLimited,available:this.props.hasRateLimit,tooltip:'Rate Limit. Indicates if the server '+'is rate limiting the video stream.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'ST',active:this.props.hasSubtitles,tooltip:'Subtitles. Indicates if the video has subtitles.'}),c('React').createElement(c('VideoDebugFlag.react'),{label:'SA',active:this.props.hasSpatialAudio,tooltip:'Spatial Audio. Indicates if the video has spatial audio.'})),r,c('React').createElement(c('VideoDebugItem.react'),{label:'Playhead',tooltip:q},this.$VideoDebugOverlay1(u)),c('React').createElement(c('VideoDebugDashManifestView.react'),{getSourceBufferHealth:this.props.getSourceBufferHealth,playbackPosition:u,segmentInitSourceMap:this.props.segmentInitSourceMap,segmentStates:this.props.segmentStates,segmentArrays:this.props.segmentArrays,timelineEvents:this.props.timelineEvents,timelineRanges:this.props.timelineRanges,getSegmentClass:this.props.getSegmentClass}),w);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('VideoShowsLogoFileInput.react',['FileInput.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return c('React').createElement(c('FileInput.react'),{accept:'image/png',multiple:false,onChange:this.props.onFileChange},c('React').createElement('a',{href:'#'},this.props.children));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d("XShowsLogoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/showpages\/logo\/upload\/",{page_id:{type:"FBID"}});}),null);
__d('VideoShowsLogoUploadDialog.react',['ix','cx','fbt','ActorURI','AdsXUIProgressBar.react','ErrorDialog','FileInputUploader','Image.react','Layout.react','LeftRight.react','Map','React','ShowCreationFlowStep','ShowCreationFlowTypedLogger','ShowsConfig','Text','VideoShowsLogoFileInput.react','XShowsLogoUploadController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=870;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$VideoShowsLogoUploadDialog2=function(event){this.setState({uploadState:'loading'});}.bind(this);this.$VideoShowsLogoUploadDialog3=function(event){var r=event.target.result,s=new Image();s.src=r;s.onload=function(){var t=document.createElement('canvas');t.width=s.width;t.height=s.height;var u=t.getContext('2d');if(u==undefined)return;u.drawImage(s,0,0);var v=u.getImageData(0,0,s.width,s.height),w=v.data,x=0,y=0,z=c('ShowsConfig').countThreshold;for(var aa=0;aa<s.width;aa++)for(var ba=0;ba<s.height;ba++){var ca=s.height*aa+ba,da=4*ca;if(w[da+3]!=0){x++;var ea=w[da],fa=w[da+1],ga=w[da+2],ha=.2126*ea+.7152*fa+.0722*ga;if(ha>=250)y++;}}if(x==s.width*s.height||x*z>=y*100){this.setState({uploadState:'failed_validation',url:null});return;}this.setState({uploadState:'success',url:r});}.bind(this);}.bind(this);this.$VideoShowsLogoUploadDialog4=function(event){this.setState({uploadState:'failed'});}.bind(this);this.$VideoShowsLogoUploadDialog17=function(){this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_UPLOAD_CLICKED);if(this.state.fileInput){this.setState({uploadToServerState:'loading'});var r=c('ActorURI').create(c('XShowsLogoUploadController').getURIBuilder().setFBID('page_id',this.props.pageID).getURI(),this.props.pageID),s=new (c('FileInputUploader'))(this.state.fileInput).setURI(r).setFiles({file:this.state.file});s.subscribe('success',function(t,u){this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_UPLOAD_SUCCESS,new (c('Map'))([['photo_id',u.photoID]]));this.setState({uploadToServerState:'success'});this.props.onSuccess();}.bind(this));s.subscribe('failure',function(t,u){this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_UPLOAD_FAILED);this.setState({uploadToServerState:'failed'});}.bind(this));s.send();}}.bind(this);this.$VideoShowsLogoUploadDialog18=function(){this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_DIALOG_CLOSED);this.props.hideDialog();}.bind(this);this.state={file:null,fileInput:null,uploadToServerState:null,uploadState:null,url:q.existingLogoUrl};}p.prototype.$VideoShowsLogoUploadDialog1=function(q){var r=q.files;if(!r||!r[0])return null;return r[0];};p.prototype.$VideoShowsLogoUploadDialog5=function(event,q){event.preventDefault();var r=event.target,s=this.$VideoShowsLogoUploadDialog1(r);this.setState({fileInput:r,file:s});if(!s)return;var t=new FileReader();t.onload=this.$VideoShowsLogoUploadDialog3;t.onprogress=this.$VideoShowsLogoUploadDialog2;t.onerror=this.$VideoShowsLogoUploadDialog4;t.readAsDataURL(s);if(q){this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_FILE_SELECTED);}else this.$VideoShowsLogoUploadDialog6(c('ShowCreationFlowStep').SHOWMARK_FILE_CHANGED);};p.prototype.$VideoShowsLogoUploadDialog7=function(){return j._("Add Showmark");};p.prototype.$VideoShowsLogoUploadDialog6=function(q,r){var s=new (c('ShowCreationFlowTypedLogger'))().setStep(q).setPageID(this.props.pageID);if(r)s=s.updateExtraData(r);s.log();};p.prototype.$VideoShowsLogoUploadDialog8=function(){return c('React').createElement('div',{className:"_45l_"},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement('div',{className:"_2gsu"},c('React').createElement(c('Image.react'),{className:"_45m2",src:h("134353")}))),c('React').createElement(n,null,c('React').createElement('div',{className:"_45m4"},j._("Showmarks highlight your show's brand and make it easier for viewers to recognize your videos. Your showmark appears as an overlay on top of your videos and thumbnails.")))));};p.prototype.$VideoShowsLogoUploadDialog9=function(){return c('React').createElement(c('VideoShowsLogoFileInput.react'),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog5(event,true);}.bind(this),ref:'blankLogofileInput'},c('React').createElement('div',{className:"_45m5"},c('React').createElement(c('Image.react'),{className:"_3-94",src:h("124971")}),c('React').createElement(c('XUIGrayText.react'),{shade:'medium',size:'large',className:"_37a1"},j._("Click to upload or drag image"))));};p.prototype.$VideoShowsLogoUploadDialog10=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_45m6"},c('React').createElement(c('Image.react'),{className:"_45m9",src:this.state.url})),c('React').createElement(c('VideoShowsLogoFileInput.react'),{onFileChange:function(event){return this.$VideoShowsLogoUploadDialog5(event,false);}.bind(this),ref:'changeLogofileInput'},c('React').createElement(c('Layout.react'),{style:{marginTop:'12px'}},c('React').createElement(m,null,c('React').createElement(c('Image.react'),{src:h("126555")})),c('React').createElement(m,null,c('React').createElement(c('XUIGrayText.react'),{style:{paddingLeft:'4px'},shade:'light'},j._("Change Image"))))));};p.prototype.$VideoShowsLogoUploadDialog11=function(){return c('React').createElement(c('AdsXUIProgressBar.react'),{className:"_45mb",striped:true,value:100});};p.prototype.$VideoShowsLogoUploadDialog12=function(){return c('React').createElement(c('XUINotice.react'),{style:{marginTop:'12px',marginRight:'12px'},use:'warn'},j._("There was an error while uploading the logo. Please try again."));};p.prototype.$VideoShowsLogoUploadDialog13=function(){return c('React').createElement('div',null,c('React').createElement(c('Text'),{style:{fontWeight:'bold'}},j._("Showmark")),this.state.url?this.$VideoShowsLogoUploadDialog10():this.$VideoShowsLogoUploadDialog9(),this.state.uploadState=='loading'?this.$VideoShowsLogoUploadDialog11():null);};p.prototype.$VideoShowsLogoUploadDialog14=function(){return c('React').createElement('div',{className:"_1qx9"},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement('div',{className:"_4kh1"})),c('React').createElement(n,null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium'},j._("Show name added a new episode")),c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',className:"_3-90"},j._("2 hours ago"))),c('React').createElement(m,null,c('React').createElement(c('Image.react'),{className:"_4kh3",src:h("126241")})))),c('React').createElement(m,null,c('React').createElement(c('Image.react'),{src:h("125398")}))),c('React').createElement('div',{className:(this.state.url!=null?"_1qxa":'')+(this.state.url==null?' '+"_1qxo":'')+(' '+"_1qxp")},this.state.url?c('React').createElement(c('Image.react'),{className:"_1qxq",src:this.state.url}):c('React').createElement('div',{className:"_4kh6"})),c('React').createElement(c('XUIGrayText.react'),{style:{fontWeight:'bold'},shade:'light'},j._("LATEST EPISODE")),c('React').createElement(c('XUIGrayText.react'),{style:{fontWeight:'bold'},shade:'light',size:'small'},'Title of Your Episode'));};p.prototype.$VideoShowsLogoUploadDialog15=function(){return c('React').createElement('div',{className:"_1qx7"},c('React').createElement(c('Text'),{className:"_3-94",style:{fontWeight:'bold'}},j._("Showmark Example")),c('React').createElement(c('Text'),{style:{display:'block'}},j._("This is how your showmark will appear on your videos in News Feed.")),c('React').createElement('div',{className:"_1qx8"},this.$VideoShowsLogoUploadDialog14(),this.$VideoShowsLogoUploadDialog14()));};p.prototype.$VideoShowsLogoUploadDialog16=function(){return c('React').createElement('div',{style:{padding:'18px'}},this.state.uploadToServerState=='loading'?c('React').createElement('div',{className:"_26of"},c('React').createElement(c('XUISpinner.react'),{className:"_26oj",background:'dark',size:'large'})):null,c('React').createElement('div',{className:"_45mc"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium'},'Add a PNG file of your showmark in a square format. Showmarks must be added as an all-white graphic on a transparent background with a minimum resolution of X and no bigger than X.',' ')),c('React').createElement(c('LeftRight.react'),null,this.$VideoShowsLogoUploadDialog13(),this.$VideoShowsLogoUploadDialog15()),this.state.uploadState=='failed'||this.state.uploadToServerState=='failed'?this.$VideoShowsLogoUploadDialog12():null);};p.prototype.$VideoShowsLogoUploadDialog19=function(){var q=this.state.uploadToServerState=='loading';return c('React').createElement(c('LeftRight.react'),null,c('React').createElement('span',null),c('React').createElement('span',null,c('React').createElement(c('XUIDialogButton.react'),{label:j._("Cancel"),action:'cancel',size:'large',use:'default',onClick:this.$VideoShowsLogoUploadDialog18,disabled:q}),c('React').createElement(c('XUIDialogButton.react'),{label:j._("Add Showmark"),action:'confirm',size:'large',use:'confirm',disabled:this.state.uploadState!='success'||q,onClick:this.$VideoShowsLogoUploadDialog17})));};p.prototype.$VideoShowsLogoUploadDialog20=function(){c('ErrorDialog').show(j._("Invalid showmark"),j._("The show mark must be white and transparent"));this.setState({uploadState:null});};p.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialog.react'),{width:o,shown:true,hideOnEscape:false,layerHideOnBlur:false},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},this.$VideoShowsLogoUploadDialog7()),c('React').createElement(c('XUIDialogBody.react'),{className:"_45me"},this.$VideoShowsLogoUploadDialog8(),this.$VideoShowsLogoUploadDialog16()),c('React').createElement(c('XUIDialogFooter.react'),null,this.$VideoShowsLogoUploadDialog19())),this.state.uploadState=='failed_validation'?this.$VideoShowsLogoUploadDialog20():null);};f.exports=p;}),null);
__d("XPagesCoverPhotoUploadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/profile\/cover_photo_upload\/",{page_id:{type:"FBID",required:true},ref:{type:"String"}});}),null);